# ãƒã‚±ãƒƒãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  v2.3

æ–‡åŒ–ç¥­ã‚„ã‚¤ãƒ™ãƒ³ãƒˆå‘ã‘ã®åº§å¸­äºˆç´„ãƒ»ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ãƒ»å½“æ—¥åˆ¸ç™ºè¡Œãƒ»æœ€é«˜ç®¡ç†è€…æ©Ÿèƒ½ã‚’è¡Œã†é«˜åº¦ãª Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Google Apps Scriptï¼ˆGASï¼‰ã§æ§‹ç¯‰ã•ã‚ŒãŸãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã€å®Œå…¨ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œãƒ»ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ ãƒ»ã‚¨ãƒ©ãƒ¼åˆ†ææ©Ÿèƒ½ã‚’å‚™ãˆãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰æ§‹æˆã•ã‚Œã‚‹ã€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒ¬ãƒ™ãƒ«ã®åº§å¸­ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

## ğŸ†• v2.3 ã®æ–°æ©Ÿèƒ½

### ğŸ” ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ ï¼ˆAudit Systemï¼‰
- **å…¨æ“ä½œã®è¨˜éŒ²**: ã™ã¹ã¦ã®åº§å¸­æ“ä½œã‚’è©³ç´°ã«è¨˜éŒ²
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ**: ç›£æŸ»ãƒ­ã‚°ã®è‡ªå‹•åŒæœŸï¼ˆ10ç§’é–“éš”ï¼‰
- **å°‚ç”¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ**: ç›£æŸ»ãƒ­ã‚°å°‚ç”¨ã®ä¸€å…ƒç®¡ç†
- **ã‚¨ãƒ©ãƒ¼è¿½è·¡**: ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ãªè¿½è·¡ã¨åˆ†æ

### ğŸ› ï¸ ã‚¨ãƒ©ãƒ¼åˆ†æãƒ»è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ 
- **è‡ªå‹•ã‚¨ãƒ©ãƒ¼æ¤œå‡º**: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»åŒæœŸã‚¨ãƒ©ãƒ¼ã®è‡ªå‹•æ¤œå‡º
- **ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ**: ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ†æã¨æ¨å¥¨äº‹é …ã®ç”Ÿæˆ
- **ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­**: åŒ…æ‹¬çš„ãªã‚·ã‚¹ãƒ†ãƒ å¥åº·çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯
- **è‡ªå‹•ä¿®å¾©**: æ¤œå‡ºã•ã‚ŒãŸå•é¡Œã®è‡ªå‹•ä¿®å¾©æ©Ÿèƒ½

### ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–
- **å¥åº·çŠ¶æ…‹ç›£è¦–**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç›£è¦–
- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ»åŒæœŸçŠ¶æ³ã®è©³ç´°ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- **ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½**: å•é¡Œç™ºç”Ÿæ™‚ã®è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆ
- **è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆ**: è©³ç´°ãªã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ

## ğŸ“‹ ç›®æ¬¡

- [ğŸš€ ä¸»ãªæ©Ÿèƒ½](#-ä¸»ãªæ©Ÿèƒ½)
- [ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ](#ï¸-ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ)
- [ğŸ” ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ ](#-ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ )
- [ğŸ› ï¸ ã‚¨ãƒ©ãƒ¼åˆ†æãƒ»è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ ](#ï¸-ã‚¨ãƒ©ãƒ¼åˆ†æè¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ )
- [ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–](#-ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–)
- [ğŸ¯ å‹•ä½œãƒ¢ãƒ¼ãƒ‰](#-å‹•ä½œãƒ¢ãƒ¼ãƒ‰)
- [ğŸ“± ç”»é¢æ§‹æˆ](#-ç”»é¢æ§‹æˆ)
- [ğŸ” æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰](#-æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰)
- [ğŸ« å½“æ—¥åˆ¸æ©Ÿèƒ½](#-å½“æ—¥åˆ¸æ©Ÿèƒ½)
- [âš™ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †](#ï¸-ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †)
- [ğŸ® ä½¿ã„æ–¹](#-ä½¿ã„æ–¹)
- [ğŸ“– å½“æ—¥é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«](#-å½“æ—¥é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«)
- [ğŸ”§ è¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º](#-è¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º)
- [ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£](#ï¸-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£)
- [ğŸ“Š ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ğŸ”„ æŠ€è¡“ä»•æ§˜](#-æŠ€è¡“ä»•æ§˜)
- [ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ](#-ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ)
- [ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [ğŸ“š ä½¿ç”¨ä¾‹](#-ä½¿ç”¨ä¾‹)
- [ğŸ”® ä»Šå¾Œã®æ‹¡å¼µäºˆå®š](#-ä»Šå¾Œã®æ‹¡å¼µäºˆå®š)
- [âš¡ ã‚·ã‚¹ãƒ†ãƒ æœ€é©åŒ–](#-ã‚·ã‚¹ãƒ†ãƒ æœ€é©åŒ–)
- [ğŸ‘¨â€ğŸ’¼ ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰å®Œå…¨æ“ä½œã‚¬ã‚¤ãƒ‰](#-ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰å®Œå…¨æ“ä½œã‚¬ã‚¤ãƒ‰)
- [ğŸŒ API URLåˆ†æ•£è¨­å®šã‚¬ã‚¤ãƒ‰](#-api-urlåˆ†æ•£è¨­å®šã‚¬ã‚¤ãƒ‰)
- [ğŸ§ª DEMOãƒ¢ãƒ¼ãƒ‰](#-demoãƒ¢ãƒ¼ãƒ‰)

---

## ğŸš€ ä¸»ãªæ©Ÿèƒ½

### åŸºæœ¬æ©Ÿèƒ½
- **åº§å¸­å¯è¦–åŒ–ã¨äºˆç´„**ï¼ˆé€šå¸¸ãƒ¢ãƒ¼ãƒ‰ï¼‰
- **äºˆç´„æ¸ˆ/ç¢ºä¿/ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³å¾…ã¡/ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³æ¸ˆã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º**
- **è‡ªå‹•æ›´æ–°**ï¼ˆåº§å¸­ãƒãƒƒãƒ—ã®å®šæœŸãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ï¼‰ã¨æ‰‹å‹•æ›´æ–°
- **URLç®¡ç†ã‚·ã‚¹ãƒ†ãƒ **ï¼šè¤‡æ•°API URLã®è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼

### ç®¡ç†è€…æ©Ÿèƒ½
- **ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰**ï¼šäºˆç´„æ¸ˆ/ç¢ºä¿å¸­ã®è¤‡æ•°å¸­åŒæ™‚ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³
- **å½“æ—¥åˆ¸ãƒ¢ãƒ¼ãƒ‰**ï¼šç©ºå¸­ã®è‡ªå‹•å‰²å½“ï¼ˆ1ã€œ6æšï¼‰
- **æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰**ï¼šåº§å¸­ãƒ‡ãƒ¼ã‚¿ã®Cã€Dã€Eåˆ—ã‚’è‡ªç”±ã«ç·¨é›†å¯èƒ½

### ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œæ©Ÿèƒ½ï¼ˆv2.0ï¼‰
- **å®Œå…¨ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œ**ï¼šã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãªã—ã§ã‚‚å…¨æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½
- **ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†**ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸåº§å¸­ãƒ‡ãƒ¼ã‚¿ã§ã®å³åº§ãªæ“ä½œ
- **è‡ªå‹•åŒæœŸ**ï¼šã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¾©å¸°æ™‚ã«æ“ä½œã‚’è‡ªå‹•ã§ã‚µãƒ¼ãƒãƒ¼ã«åæ˜ ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰åŒæœŸé–“éš”: ç´„15ç§’ï¼‰
- **å½“æ—¥åˆ¸ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç™ºè¡Œ**ï¼šã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã§ã‚‚å½“æ—¥åˆ¸ã‚’ç™ºè¡Œãƒ»è¡¨ç¤º
- **Service Worker**ï¼šãƒšãƒ¼ã‚¸ã¨ã‚¢ã‚»ãƒƒãƒˆã®ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥

### ç›£æŸ»ãƒ»åˆ†ææ©Ÿèƒ½ï¼ˆv2.3ï¼‰
- **å…¨æ“ä½œè¨˜éŒ²**ï¼šåº§å¸­äºˆç´„ãƒ»ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ãƒ»å½“æ—¥åˆ¸ç™ºè¡Œãƒ»ç·¨é›†æ“ä½œã‚’è©³ç´°è¨˜éŒ²
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£æŸ»**ï¼šæ“ä½œã®å³åº§ãªç›£æŸ»ãƒ­ã‚°è¨˜éŒ²ã¨åŒæœŸ
- **ã‚¨ãƒ©ãƒ¼è¿½è·¡**ï¼šã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ãªè¿½è·¡ã¨åˆ†æ
- **ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ**ï¼šã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è‡ªå‹•åˆ†æã¨æ¨å¥¨äº‹é …ç”Ÿæˆ
- **ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­**ï¼šåŒ…æ‹¬çš„ãªã‚·ã‚¹ãƒ†ãƒ å¥åº·çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯
- **è‡ªå‹•ä¿®å¾©**ï¼šæ¤œå‡ºã•ã‚ŒãŸå•é¡Œã®è‡ªå‹•ä¿®å¾©æ©Ÿèƒ½

### URLç®¡ç†ãƒ»è² è·åˆ†æ•£æ©Ÿèƒ½ï¼ˆv2.1ï¼‰
- **è¤‡æ•°API URLå¯¾å¿œ**ï¼šä½¿ç”¨æ•°ä¸Šé™å›é¿ã®ãŸã‚ã®åˆ†æ•£å‡¦ç†
- **è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**ï¼š5åˆ†é–“éš”ã§ã®URLè‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
- **ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ**ï¼šæ‰‹å‹•æ›´æ–°æ™‚ã®ç¢ºå®ŸãªURLå¤‰æ›´
- **ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼**ï¼šAPIå‘¼ã³å‡ºã—å¤±æ•—æ™‚ã®è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€šçŸ¥**ï¼šURLå¤‰æ›´æ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
- **URLæƒ…å ±è¡¨ç¤º**ï¼šç¾åœ¨ä½¿ç”¨ä¸­ã®API URLã®è¡¨ç¤º

### ãƒ¢ãƒ¼ãƒ‰ç®¡ç†
- **ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰ã®ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ**ï¼ˆé€šå¸¸/ç®¡ç†è€…/å½“æ—¥åˆ¸/æœ€é«˜ç®¡ç†è€…ï¼‰
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼**ã«ã‚ˆã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¢ãƒ¼ãƒ‰è¡¨ç¤º**

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆv2.2æœ€é©åŒ–ç‰ˆï¼‰
- é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ï¼ˆHTML/CSS/ES Modulesï¼‰ã€‚ãƒ“ãƒ«ãƒ‰ä¸è¦ã€‚
- ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã§æ©Ÿèƒ½åˆ¥ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ
- **OptimizedLoader**ï¼šä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ã—ãŸä¸¦åˆ—ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«èª­ã¿è¾¼ã¿
- **APICache**ï¼šã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ 
- **UIOptimizer**ï¼šã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®æœ€é©åŒ–
- **PerformanceMonitor**ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
- **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸã‚·ã‚¹ãƒ†ãƒ ï¼ˆv2.0ï¼‰**ï¼šå®Œå…¨ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œã‚’å®Ÿç¾

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- GAS ã‚’ JSONP ã§å‘¼ã³å‡ºã—ï¼ˆ`optimized-api.js`ï¼‰
- CORS ã‚’å›é¿ã—ã¤ã¤ã€`callback` ã§å¿œç­”ã‚’å—ã‘å–ã‚Šã¾ã™
- **URLç®¡ç†ã‚·ã‚¹ãƒ†ãƒ **ï¼šè¤‡æ•°API URLã®è‡ªå‹•ç®¡ç†ã¨ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- **ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼æ©Ÿèƒ½**ï¼šAPIå‘¼ã³å‡ºã—å¤±æ•—æ™‚ã®è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
- **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å§”è­²æ©Ÿèƒ½**ï¼šã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã®æ“ä½œã‚’ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†ã«å§”è­²
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±åˆ**ï¼šAPIå‘¼ã³å‡ºã—ã®é‡è¤‡æ’é™¤ã¨æœ€é©åŒ–

### ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢
- Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ
- `SpreadsheetIds.gs` ã§å¯¾è±¡ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’å…¬æ¼”åˆ¥ã«åˆ‡æ›¿
- æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã§ã¯åº§å¸­ãƒ‡ãƒ¼ã‚¿ã®ç›´æ¥ç·¨é›†ãŒå¯èƒ½
- **ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥**ï¼šåº§å¸­ãƒ‡ãƒ¼ã‚¿ã®ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ä¿å­˜ã¨åŒæœŸ

### ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆv2.3ç›£æŸ»ãƒ»åˆ†æå¯¾å¿œç‰ˆï¼‰
```mermaid
graph TB
  subgraph "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆv2.3ï¼‰"
    A[OptimizedLoader]
    B[OfflineSyncV2]
    C[Service Worker v2]
    D[APICache]
    E[Local Storage]
    F[AuditManager]
    G[ErrorAnalyzer]
    H[PerformanceMonitor]
  end
  
  subgraph "é€šä¿¡å±¤ï¼ˆæœ€é©åŒ–ï¼‰"
    I[OptimizedGasAPI]
    J[URLç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ]
    K[ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å§”è­²]
    L[è‡ªå‹•åŒæœŸï¼ˆ10ç§’é–“éš”ï¼‰]
  end
  
  subgraph "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆv2.3ï¼‰"
    M[GAS Web App]
    N[API ãƒ«ãƒ¼ã‚¿ãƒ¼]
    O[ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯]
    P[ç›£æŸ»ãƒ­ã‚°API]
  end
  
  subgraph "ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢"
    Q[Google Spreadsheet]
    R[åº§å¸­ãƒ‡ãƒ¼ã‚¿]
    S[ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿]
    T[ç›£æŸ»ãƒ­ã‚°å°‚ç”¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ]
  end
  
  A --> B
  A --> D
  A --> F
  A --> G
  A --> H
  B --> C
  B --> E
  D --> I
  I --> J
  I --> K
  K --> B
  I --> M
  M --> Q
  F --> P
  P --> T
  B --> L
  L --> M
  G --> F
  H --> A
```

---

## ğŸ” ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ 

### æ¦‚è¦
ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®æ“ä½œã‚’è©³ç´°ã«è¨˜éŒ²ã—ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£æŸ»ãƒ­ã‚°ã‚’ç®¡ç†ã™ã‚‹é«˜åº¦ãªç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½

#### 1. å…¨æ“ä½œè¨˜éŒ²
- **åº§å¸­äºˆç´„**: äºˆç´„è€…æƒ…å ±ã€åº§å¸­ç•ªå·ã€æ™‚åˆ»ã‚’è¨˜éŒ²
- **ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³**: ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³å¯¾è±¡ã€å®Ÿè¡Œè€…ã€æ™‚åˆ»ã‚’è¨˜éŒ²
- **å½“æ—¥åˆ¸ç™ºè¡Œ**: ç™ºè¡Œæšæ•°ã€åº§å¸­ç•ªå·ã€ç™ºè¡Œæ–¹æ³•ã‚’è¨˜éŒ²
- **åº§å¸­ç·¨é›†**: æœ€é«˜ç®¡ç†è€…ã«ã‚ˆã‚‹ç·¨é›†å†…å®¹ã‚’è©³ç´°è¨˜éŒ²
- **ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´**: èªè¨¼æƒ…å ±ã€å¤‰æ›´æ™‚åˆ»ã‚’è¨˜éŒ²

#### 2. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ
- **è‡ªå‹•åŒæœŸ**: 10ç§’é–“éš”ã§ã®ç›£æŸ»ãƒ­ã‚°è‡ªå‹•åŒæœŸ
- **å°‚ç”¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ**: ç›£æŸ»ãƒ­ã‚°å°‚ç”¨ã®ä¸€å…ƒç®¡ç†
- **ã‚¨ãƒ©ãƒ¼å‡¦ç†**: åŒæœŸå¤±æ•—æ™‚ã®è‡ªå‹•å†è©¦è¡Œï¼ˆæœ€å¤§3å›ï¼‰
- **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**: åŒæœŸå¤±æ•—æ™‚ã®ãƒ­ã‚°ä¿è­·

#### 3. ã‚¨ãƒ©ãƒ¼è¿½è·¡
- **ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼**: JavaScript ã‚¨ãƒ©ãƒ¼ã®è‡ªå‹•ã‚­ãƒ£ãƒƒãƒ
- **Promiseæ‹’å¦**: æœªå‡¦ç†ã®Promiseæ‹’å¦ã‚’è¿½è·¡
- **APIå‘¼ã³å‡ºã—ã‚¨ãƒ©ãƒ¼**: GAS APIå‘¼ã³å‡ºã—å¤±æ•—ã‚’è¨˜éŒ²
- **åŒæœŸã‚¨ãƒ©ãƒ¼**: ç›£æŸ»ãƒ­ã‚°åŒæœŸå¤±æ•—ã‚’è¿½è·¡

### ç›£æŸ»ãƒ­ã‚°ã®æ§‹é€ 
```javascript
{
  id: "ä¸€æ„ã®ID",
  timestamp: "2024-01-01T12:00:00.000Z",
  operation: "seat_reservation",
  fileName: "seats.html",
  identifier: "seats.html-è¦‹æœ¬æ¼”åŠ‡-1-A",
  auditLogSpreadsheetId: "ç›£æŸ»ãƒ­ã‚°å°‚ç”¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID",
  originalSpreadsheetId: "åº§å¸­ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID",
  group: "è¦‹æœ¬æ¼”åŠ‡",
  day: "1",
  timeslot: "A",
  mode: { mode: "normal", isDemo: false },
  userAgent: "ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±",
  url: "ç¾åœ¨ã®URL",
  deviceInfo: { /* ãƒ‡ãƒã‚¤ã‚¹æƒ…å ± */ },
  details: { /* æ“ä½œè©³ç´° */ },
  beforeData: { /* å¤‰æ›´å‰ãƒ‡ãƒ¼ã‚¿ */ },
  afterData: { /* å¤‰æ›´å¾Œãƒ‡ãƒ¼ã‚¿ */ },
  error: null,
  stackTrace: null
}
```

### ä½¿ç”¨æ–¹æ³•
```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§åˆ©ç”¨å¯èƒ½
AuditManager.log('custom_operation', { detail: 'ã‚«ã‚¹ã‚¿ãƒ æ“ä½œ' });
AuditManager.getLogs({ operation: 'seat_reservation' });
AuditManager.getStats();
AuditManager.manualSync();
AuditManager.healthCheck();
```

---

## ğŸ› ï¸ ã‚¨ãƒ©ãƒ¼åˆ†æãƒ»è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ 

### æ¦‚è¦
ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ã‚’è‡ªå‹•æ¤œå‡ºãƒ»åˆ†æã—ã€å•é¡Œã®æ—©æœŸç™ºè¦‹ã¨è§£æ±ºã‚’æ”¯æ´ã™ã‚‹é«˜åº¦ãªè¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½

#### 1. è‡ªå‹•ã‚¨ãƒ©ãƒ¼æ¤œå‡º
- **ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚¨ãƒ©ãƒ¼**: TypeErrorã€ReferenceErrorã€CreateListFromArrayLike
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼**: APIå‘¼ã³å‡ºã—å¤±æ•—ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€CORS
- **åŒæœŸã‚¨ãƒ©ãƒ¼**: ç›£æŸ»ãƒ­ã‚°åŒæœŸå¤±æ•—ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ¥ç¶šã‚¨ãƒ©ãƒ¼
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¨ãƒ©ãƒ¼**: localStorageå®¹é‡ä¸è¶³ã€ãƒ‡ãƒ¼ã‚¿ç ´æ

#### 2. ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ
- **ã‚¨ãƒ©ãƒ¼é »åº¦**: åŒã˜ã‚¨ãƒ©ãƒ¼ã®ç™ºç”Ÿé »åº¦ã‚’åˆ†æ
- **ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³**: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã®æ™‚é–“çš„ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æ
- **é–¢é€£æ€§**: ã‚¨ãƒ©ãƒ¼é–“ã®é–¢é€£æ€§ã‚’ç‰¹å®š
- **å‚¾å‘åˆ†æ**: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã®å‚¾å‘ã‚’åˆ†æ

#### 3. æ¨å¥¨äº‹é …ç”Ÿæˆ
- **å³åº§ã®å¯¾å¿œ**: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚¨ãƒ©ãƒ¼ã«å¯¾ã™ã‚‹ç·Šæ€¥å¯¾å¿œ
- **äºˆé˜²ç­–**: ã‚¨ãƒ©ãƒ¼å†ç™ºé˜²æ­¢ã®ãŸã‚ã®æ¨å¥¨äº‹é …
- **æœ€é©åŒ–**: ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã®ææ¡ˆ
- **è¨­å®šèª¿æ•´**: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã®æœ€é©åŒ–ææ¡ˆ

### ã‚¨ãƒ©ãƒ¼åˆ†æãƒ¬ãƒãƒ¼ãƒˆ
```javascript
{
  totalErrors: 25,
  patterns: {
    critical: 3,
    network: 8,
    sync: 12,
    storage: 2
  },
  criticalIssues: [
    {
      type: 'consecutive_errors',
      severity: 'high',
      description: 'é€£ç¶šã—ã¦ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™',
      count: 5,
      recommendation: 'ã‚·ã‚¹ãƒ†ãƒ ã®å†èµ·å‹•ã‚’æ¤œè¨ã—ã¦ãã ã•ã„'
    }
  ],
  recommendations: [
    {
      priority: 'high',
      category: 'critical',
      action: 'ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£',
      description: '3ä»¶ã®ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚¨ãƒ©ãƒ¼ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ',
      steps: [
        'ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ AuditManager.analyzeErrors() ã‚’å®Ÿè¡Œ',
        'ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ã‚’ç¢ºèª',
        'ã‚¨ãƒ©ãƒ¼ã®ç™ºç”Ÿç®‡æ‰€ã‚’ç‰¹å®š',
        'ã‚³ãƒ¼ãƒ‰ã®ä¿®æ­£ã‚’å®Ÿæ–½'
      ]
    }
  ]
}
```

### ä½¿ç”¨æ–¹æ³•
```javascript
// ã‚¨ãƒ©ãƒ¼åˆ†æã®å®Ÿè¡Œ
AuditManager.analyzeErrors();

// ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ
AuditManager.diagnose();

// è‡ªå‹•ä¿®å¾©ã®å®Ÿè¡Œ
AuditManager.autoFix();

// ã‚·ã‚¹ãƒ†ãƒ å¥åº·çŠ¶æ…‹ã®ãƒã‚§ãƒƒã‚¯
AuditManager.healthCheck();
```

---

## ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–

### æ¦‚è¦
ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å¥åº·çŠ¶æ…‹ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–ã—ã€å•é¡Œã®æ—©æœŸç™ºè¦‹ã¨å¯¾å¿œã‚’æ”¯æ´ã™ã‚‹ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½

#### 1. å¥åº·çŠ¶æ…‹ç›£è¦–
- **å…¨ä½“çŠ¶æ…‹**: healthy / warning / critical / attention
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥çŠ¶æ…‹**: å„ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ç›£è¦–
- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†**: è©³ç´°ãªã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®åé›†
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**: çŠ¶æ…‹ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°

#### 2. ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
- **ãƒ­ã‚°æ•°**: ç·ãƒ­ã‚°æ•°ã€åŒæœŸå¾…ã¡ãƒ­ã‚°æ•°
- **åŒæœŸçŠ¶æ³**: åŒæœŸå¤±æ•—æ•°ã€æœ€çµ‚åŒæœŸæ™‚åˆ»
- **ã‚¨ãƒ©ãƒ¼çŠ¶æ³**: æœ€è¿‘ã®ã‚¨ãƒ©ãƒ¼æ•°ã€ã‚¨ãƒ©ãƒ¼å‚¾å‘
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡

#### 3. ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½
- **è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆ**: å•é¡Œç™ºç”Ÿæ™‚ã®è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆ
- **é–¾å€¤è¨­å®š**: ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¢ãƒ©ãƒ¼ãƒˆé–¾å€¤
- **é€šçŸ¥æ©Ÿèƒ½**: å•é¡Œç™ºç”Ÿæ™‚ã®é€šçŸ¥æ©Ÿèƒ½
- **ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: é‡å¤§ãªå•é¡Œã®ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### å¥åº·çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯çµæœ
```javascript
{
  overall: 'healthy',
  components: {
    auditManager: 'healthy',
    autoSync: 'healthy',
    errorTracking: 'healthy',
    storage: 'warning'
  },
  metrics: {
    totalLogs: 1250,
    pendingLogs: 5,
    syncFailures: 0,
    recentErrors: 2,
    lastSync: '2024-01-01 12:00:00'
  },
  recommendations: [
    'ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡ãŒ80%ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚ãƒ­ã‚°ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚'
  ]
}
```

### ä½¿ç”¨æ–¹æ³•
```javascript
// ã‚·ã‚¹ãƒ†ãƒ å¥åº·çŠ¶æ…‹ã®ãƒã‚§ãƒƒã‚¯
const health = AuditManager.healthCheck();
console.log('ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹:', health.overall);
console.log('æ¨å¥¨äº‹é …:', health.recommendations);

// è©³ç´°ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç¢ºèª
console.log('ãƒ¡ãƒˆãƒªã‚¯ã‚¹:', health.metrics);
console.log('ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçŠ¶æ…‹:', health.components);
```

---

## ğŸ¯ å‹•ä½œãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ > ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ï¼‰

| ãƒ¢ãƒ¼ãƒ‰ | æ¨©é™ | æ©Ÿèƒ½ | èªè¨¼ |
|--------|------|------|------|
| **é€šå¸¸ãƒ¢ãƒ¼ãƒ‰** | ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ | åº§å¸­äºˆç´„ãŒå¯èƒ½ | ä¸è¦ |
| **ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰** | ç®¡ç†è€… | ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã€åº§å¸­åè¡¨ç¤º | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¿…è¦ |
| **å½“æ—¥åˆ¸ãƒ¢ãƒ¼ãƒ‰** | å½“æ—¥åˆ¸æ‹…å½“ | ç©ºå¸­è‡ªå‹•å‰²å½“ã€å½“æ—¥åˆ¸ç™ºè¡Œ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¿…è¦ |
| **æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰** | æœ€é«˜ç®¡ç†è€… | åº§å¸­ãƒ‡ãƒ¼ã‚¿ç·¨é›†ã€å½“æ—¥åˆ¸ç™ºè¡Œã€å…¨æ¨©é™ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¿…è¦ |

---

## ğŸ“± ç”»é¢æ§‹æˆ

### ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
- `index.html`: çµ„é¸æŠãƒšãƒ¼ã‚¸
- `timeslot.html`: æ™‚é–“å¸¯é¸æŠãƒšãƒ¼ã‚¸
- `seats.html`: åº§å¸­é¸æŠãƒ»äºˆç´„ãƒšãƒ¼ã‚¸ï¼ˆé€šå¸¸/ç®¡ç†è€…/æœ€é«˜ç®¡ç†è€…/å½“æ—¥åˆ¸ï¼‰
- `walkin.html`: å½“æ—¥åˆ¸ç™ºè¡Œãƒšãƒ¼ã‚¸ï¼ˆå½“æ—¥åˆ¸/æœ€é«˜ç®¡ç†è€…ï¼‰

### å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ/éƒ¨å“
- `styles.css`: å…¨ä½“ã‚¹ã‚¿ã‚¤ãƒ«
- `sidebar.js` / `sidebar.css`: ã‚µã‚¤ãƒ‰ãƒãƒ¼ã€ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ãƒ¢ãƒ¼ãƒ€ãƒ«ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

### æ©Ÿèƒ½åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«
- `seats-main.js` / `seats.css`: åº§å¸­ãƒãƒƒãƒ—è¡¨ç¤ºãƒ»äºˆç´„ãƒ»ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ãƒ»æœ€é«˜ç®¡ç†è€…ç·¨é›†ãƒ»å½“æ—¥åˆ¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- `walkin-main.js` / `walkin.css`: å½“æ—¥åˆ¸ç™ºè¡Œã€æšæ•°é¸æŠï¼ˆÂ±ãƒœã‚¿ãƒ³å¯¾å¿œï¼‰
- `timeslot-main.js` / `timeslot-schedules.js`: æ™‚é–“å¸¯é¸æŠï¼ˆãƒ•ãƒ­ãƒ³ãƒˆå›ºå®šãƒ‡ãƒ¼ã‚¿ï¼‰

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆGASï¼‰
- `Code.gs`: API ãƒ«ãƒ¼ã‚¿ãƒ¼ï¼ˆdoGet/doPost/JSONP å¿œç­”å«ã‚€ï¼‰ã¨åº§å¸­ãƒ»äºˆç´„ãƒ»ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ãƒ»å½“æ—¥åˆ¸ãƒ»æœ€é«˜ç®¡ç†è€…ç·¨é›†å‡¦ç†
- `TimeSlotConfig.gs`: æ™‚é–“å¸¯è¨­å®šï¼ˆGAS å´ï¼‰
- `SpreadsheetIds.gs`: å„å…¬æ¼”ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ ID ç®¡ç†
- `system-setting.gs`: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆæœ€é«˜ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å«ã‚€ï¼‰

---

## ğŸ” æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã®è©³ç´°æ©Ÿèƒ½

### æ¨©é™ã¨è¡¨ç¤º
- ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã¨åŒæ§˜ã«åº§å¸­ã«åå‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã€Œæœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã€ã®è¡¨ç¤ºï¼ˆæ¿ƒã„èµ¤è‰²ï¼‰
- åº§å¸­ã‚¯ãƒªãƒƒã‚¯æ™‚ã«è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼ˆæ¿ƒã„èµ¤è‰²ã§é¸æŠçŠ¶æ…‹è¡¨ç¤ºï¼‰

### åº§å¸­ç·¨é›†æ©Ÿèƒ½
- **ä»»æ„ã®åº§å¸­ã‚’é¸æŠå¯èƒ½**ï¼šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«é–¢ä¿‚ãªãå…¨ã¦ã®åº§å¸­ã‚’ã‚¯ãƒªãƒƒã‚¯å¯èƒ½
- **ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º**ï¼šåº§å¸­ã‚¯ãƒªãƒƒã‚¯æ™‚ã«Cã€Dã€Eåˆ—ã®ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤º
- **åˆ—åˆ¥ç·¨é›†**ï¼š
  - **Cåˆ—**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆç©ºã€ç¢ºä¿ã€äºˆç´„æ¸ˆãªã©ï¼‰
  - **Dåˆ—**: äºˆç´„åãƒ»å‚™è€ƒ
  - **Eåˆ—**: ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³çŠ¶æ…‹ãƒ»ãã®ä»–
- **ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°**ï¼šç¢ºå®šãƒœã‚¿ãƒ³ã§ã€Œæœ¬å½“ã«å¤‰æ›´ã—ã¾ã™ã‹ï¼Ÿã€ã®ç¢ºèª
- **è‡ªå‹•æ›´æ–°**ï¼šç·¨é›†å¾Œã¯åº§å¸­ãƒ‡ãƒ¼ã‚¿ãŒè‡ªå‹•å†èª­ã¿è¾¼ã¿ã•ã‚Œã‚‹

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- `SUPERADMIN_PASSWORD`ã«ã‚ˆã‚‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ç›´æ¥æ›´æ–°ï¼ˆCã€Dã€Eåˆ—ã®ã¿ï¼‰

### è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
- é¸æŠã•ã‚ŒãŸåº§å¸­ã¯æ¿ƒã„èµ¤è‰²ï¼ˆ#8B0000ï¼‰ã§è¡¨ç¤º
- ç™½ã„ãƒœãƒ¼ãƒ€ãƒ¼ã¨å½±ã§è¦–èªæ€§ã‚’å‘ä¸Š
- å˜ä¸€é¸æŠï¼ˆä»–ã®åº§å¸­ã®é¸æŠã¯è‡ªå‹•ã‚¯ãƒªã‚¢ï¼‰

---

## ğŸ« å½“æ—¥åˆ¸æ©Ÿèƒ½ï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³/ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒç­‰ã®å¸­é¸å®šãƒ­ã‚¸ãƒƒã‚¯ï¼‰

### ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™
- **ãƒšãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«åˆ¶é™**: å½“æ—¥åˆ¸ãƒšãƒ¼ã‚¸ï¼ˆ`walkin.html`ï¼‰ã¯å½“æ—¥åˆ¸ãƒ¢ãƒ¼ãƒ‰ã¾ãŸã¯æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã§ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- **è‡ªå‹•ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ**: è¨±å¯ã•ã‚Œã¦ã„ãªã„ãƒ¢ãƒ¼ãƒ‰ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸå ´åˆã€åº§å¸­é¸æŠãƒšãƒ¼ã‚¸ã«è‡ªå‹•ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- **ãƒœã‚¿ãƒ³ãƒ¬ãƒ™ãƒ«åˆ¶é™**: åº§å¸­é¸æŠç”»é¢ã®å½“æ—¥åˆ¸ãƒœã‚¿ãƒ³ã¯ã€è¨±å¯ã•ã‚ŒãŸãƒ¢ãƒ¼ãƒ‰ã§ã®ã¿è¡¨ç¤ºãƒ»æœ‰åŠ¹åŒ–
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ¶å¾¡**: ã‚µã‚¤ãƒ‰ãƒãƒ¼ã§ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´æ™‚ã«å³åº§ã«ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ãŒé©ç”¨ã•ã‚Œã‚‹

### ç™ºè¡Œæ–¹æ³•ï¼ˆæŒ™å‹•ã®çµ±ä¸€ï¼‰
- **ä¸€ç·’ï¼ˆåŒä¸€è¡Œã®é€£ç¶šå¸­ã§ç¢ºä¿ï¼‰**: è¡Œå„ªå…ˆ Aâ†’Eã€å¸­ç•ªå·æ˜‡é †ã§åŒä¸€è¡Œã®é€£ç•ªã‚’ç¢ºä¿ï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³/ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒä¸€ï¼‰ã€‚
- **ã©ã“ã§ã‚‚ã‚ˆã„**: è¡Œå„ªå…ˆ Aâ†’Eã€å¸­ç•ªå·æ˜‡é †ã§å…ˆé ­ã‹ã‚‰å¿…è¦æ•°ã‚’ç¢ºä¿ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ã§ã¯ãªãæ±ºå®šçš„ã«çµ±ä¸€ï¼‰ã€‚

### æšæ•°é¸æŠ
- 1ã€œ6æšã®ç¯„å›²ã§é¸æŠå¯èƒ½
- Â±ãƒœã‚¿ãƒ³ã«ã‚ˆã‚‹ç›´æ„Ÿçš„ãªæ“ä½œ
- å†å…¥é˜²æ­¢æ©Ÿèƒ½ã§èª¤æ“ä½œã‚’é˜²æ­¢

### ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å½“æ—¥åˆ¸ç™ºè¡Œï¼ˆæ”¹å–„ç‚¹ï¼‰
- **ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã§ã‚‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸåº§å¸­ãƒ‡ãƒ¼ã‚¿ã§å½“æ—¥åˆ¸ã‚’ç™ºè¡Œ
- **åº§å¸­è¡¨ç¤º**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç™ºè¡Œæ™‚ã‚‚å®Ÿéš›ã®åº§å¸­ç•ªå·ã‚’è¡¨ç¤ºï¼ˆä¾‹ï¼š`A1 / A2 (ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†)`ï¼‰
- **è‡ªå‹•åŒæœŸ**: ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¾©å¸°æ™‚ã«ãƒ­ãƒ¼ã‚«ãƒ«äºˆç´„ã‚’å½“æ—¥åˆ¸ã¨ã—ã¦æ­£å¼ç™»éŒ²ï¼ˆ`updateSeatData` ãŒä¸€æ™‚å¤±æ•—ã—ãŸå ´åˆã¯ã‚­ãƒ¥ãƒ¼ã¸å§”è­²ï¼‰
- **é‡è¤‡é˜²æ­¢**: ãƒ­ãƒ¼ã‚«ãƒ«ã§äºˆç´„ã—ãŸåº§å¸­ã‚’ãã®ã¾ã¾å½“æ—¥åˆ¸ã¨ã—ã¦ç™»éŒ²ï¼ˆæ–°è¦åº§å¸­å‰²å½“ãªã—ï¼‰
- **å½“æ—¥åˆ¸ç”¨ç©ºå¸­ãƒ‡ãƒ¼ã‚¿**: å½“æ—¥åˆ¸ãƒ¢ãƒ¼ãƒ‰æ™‚ã«ç´„10ç§’é–“éš”ã§ãƒ—ãƒ«ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«åº§å¸­ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç©ºã§ã‚‚è£œå®Œ

---

## âš™ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæº–å‚™
- å„å…¬æ¼”ï¼ˆçµ„/æ—¥/æ™‚é–“å¸¯ï¼‰ã«å¯¾å¿œã™ã‚‹ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ç”¨æ„
- åº§å¸­ã‚·ãƒ¼ãƒˆåã¯ `Seats` ã«çµ±ä¸€
- åˆ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ`Code.gs` ã®å‚ç…§ç¯„å›²ã«ä¸€è‡´ï¼‰
  - **Aåˆ—**: è¡Œãƒ©ãƒ™ãƒ«ï¼ˆAã€œEï¼‰
  - **Båˆ—**: åˆ—ç•ªå·ï¼ˆ1ã€œ12ã€E ã¯ 1ã€œ6ï¼‰
  - **Cåˆ—**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆ`ç©º`/`ç¢ºä¿`/`äºˆç´„æ¸ˆ`ï¼‰
  - **Dåˆ—**: äºˆç´„åï¼ˆä»»æ„ï¼‰
  - **Eåˆ—**: ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ï¼ˆ`æ¸ˆ` ã®ã¿ä½¿ç”¨ï¼‰

### 2. GAS ãƒ‡ãƒ—ãƒ­ã‚¤
- Google Apps Script ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
- `Code.gs` / `TimeSlotConfig.gs` / `SpreadsheetIds.gs` / `system-setting.gs` ã‚’è²¼ã‚Šä»˜ã‘
- `SpreadsheetIds.gs` ã® `SEAT_SHEET_IDS` ã‚’å…¬æ¼”ã”ã¨ã«æ­£ã—ã„ ID ã¸æ›´æ–°
- `system-setting.gs` ã® `setupPasswords()` ã‚’ä¸€åº¦å®Ÿè¡Œã—ã¦ã€å…¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š
- ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã¨ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤
  - å®Ÿè¡Œã™ã‚‹é–¢æ•°: `doGet`
  - ã‚¢ã‚¯ã‚»ã‚¹æ¨©: å…¨å“¡ï¼ˆåŒ¿åå«ã‚€ï¼‰/çµ„ç¹”å†…ãªã©ã€é‹ç”¨ãƒãƒªã‚·ãƒ¼ã«åˆã‚ã›ã¦è¨­å®š
- ãƒ‡ãƒ—ãƒ­ã‚¤ URL ã‚’æ§ãˆã¦ãŠãã¾ã™

### 3. ãƒ•ãƒ­ãƒ³ãƒˆè¨­å®š
- `config.js` ã® `GAS_API_URLS` é…åˆ—ã«ãƒ‡ãƒ—ãƒ­ã‚¤ URL ã‚’è¨­å®š
- è¤‡æ•°URLã‚’è¨­å®šã™ã‚‹ã“ã¨ã§è² è·åˆ†æ•£ã¨ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ãŒæœ‰åŠ¹åŒ–
- ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºæ™‚ã¯ã€ä»»æ„ã®é™çš„ã‚µãƒ¼ãƒãƒ¼ã§ `index.html` ã‚’é–‹ã„ã¦å‹•ä½œç¢ºèª

---

## ğŸ® ä½¿ã„æ–¹

### 1. çµ„é¸æŠï¼ˆ`index.html`ï¼‰
- çµ„ã‚’é¸ã¶ã¨ `timeslot.html?group=1` ã®ã‚ˆã†ã«é·ç§»

### 2. æ™‚é–“å¸¯é¸æŠï¼ˆ`timeslot.html`ï¼‰
- çµ„ã«ç´ã¥ãæ™‚é–“å¸¯ã‚’è¡¨ç¤ºï¼ˆ`timeslot-schedules.js` ã‚’å‚ç…§ï¼‰
- é¸æŠã™ã‚‹ã¨ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ã¦ãƒšãƒ¼ã‚¸é·ç§»ï¼š
  - é€šå¸¸: `seats.html?group=1&day=1&timeslot=A`
  - å½“æ—¥åˆ¸: `walkin.html?group=1&day=1&timeslot=A`
  - URL ã« `admin=true` ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ç®¡ç†è€…ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒå¼•ãç¶™ãŒã‚Œã¾ã™

### 3. åº§å¸­ãƒšãƒ¼ã‚¸ï¼ˆ`seats.html`ï¼‰
- **é€šå¸¸ãƒ¢ãƒ¼ãƒ‰**: ç©ºå¸­ã‚’é¸æŠã—ã€Œã“ã®å¸­ã§äºˆç´„ã™ã‚‹ã€ã€‚äºˆç´„å¾Œã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒæ›´æ–°ã•ã‚Œã¾ã™
- **ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰**: äºˆç´„æ¸ˆ/ç¢ºä¿å¸­ãŒé¸æŠå¯èƒ½ã¨ãªã‚Šã€è¤‡æ•°é¸æŠã—ã¦ã€Œãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã€ã‚’å®Ÿè¡Œå¯èƒ½
- **æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰**: ä»»æ„ã®åº§å¸­ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦Cã€Dã€Eåˆ—ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç·¨é›†å¯èƒ½
- **å½“æ—¥åˆ¸ãƒœã‚¿ãƒ³**: å½“æ—¥åˆ¸ãƒ¢ãƒ¼ãƒ‰ã¾ãŸã¯æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã§ã®ã¿è¡¨ç¤ºãƒ»æœ‰åŠ¹
- **è‡ªå‹•æ›´æ–°**: ç´„30ç§’ã”ã¨ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œæ™‚ã¯ä¸€æ™‚åœæ­¢ï¼‰ã€‚æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ã‚‚ã‚ã‚Š
- **ãƒ¢ãƒ¼ãƒ€ãƒ«**: ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«ã¯é–‹é–‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã§è¡¨ç¤ºã•ã‚Œã¾ã™

### 4. å½“æ—¥åˆ¸ãƒšãƒ¼ã‚¸ï¼ˆ`walkin.html`ï¼‰
- **ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™**: å½“æ—¥åˆ¸ãƒ¢ãƒ¼ãƒ‰ã¾ãŸã¯æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã§ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- **è‡ªå‹•ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ**: è¨±å¯ã•ã‚Œã¦ã„ãªã„ãƒ¢ãƒ¼ãƒ‰ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸå ´åˆã€åº§å¸­é¸æŠãƒšãƒ¼ã‚¸ã«è‡ªå‹•ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- **æšæ•°é¸æŠ**: æšæ•°ï¼ˆ1ã€œ6ï¼‰ã‚’ Â± ãƒœã‚¿ãƒ³ã¾ãŸã¯å…¥åŠ›ã§æŒ‡å®š
- **ç™ºè¡Œæ–¹æ³•é¸æŠ**: 2ã¤ã®ç™ºè¡Œæ–¹æ³•ã‹ã‚‰é¸æŠã§ãã¾ã™ï¼š
  - **ä¸€ç·’ï¼ˆåŒä¸€è¡Œã®é€£ç¶šå¸­ã§ç¢ºä¿ï¼‰**: æŒ‡å®šã—ãŸæšæ•°ã‚’åŒã˜è¡Œã§é€£ç¶šã—ãŸå¸­ã¨ã—ã¦ç¢ºä¿ã—ã¾ã™ï¼ˆè¡Œã‚’ã¾ãŸãä¸¦ã³ã¯ä¸å¯ï¼‰
  - **ã©ã“ã§ã‚‚ã‚ˆã„ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ï¼‰**: åŒä¸€è¡Œã®é€£ç¶šæ€§ã¯å•ã‚ãšã€ç©ºå¸­ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«ç¢ºä¿ã—ã¾ã™
- **ç™ºè¡Œçµæœè¡¨ç¤º**: ç™ºè¡Œå¾Œã€å‰²å½“å¸­ï¼ˆå˜æ•°/è¤‡æ•°ï¼‰ã‚’ç”»é¢è¡¨ç¤ºã—ã¾ã™

---

## ğŸ”„ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸã‚·ã‚¹ãƒ†ãƒ ï¼ˆv2.0ï¼‰

### æ¦‚è¦
å®Œå…¨ãªã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œã‚’å®Ÿç¾ã™ã‚‹é«˜åº¦ãªåŒæœŸã‚·ã‚¹ãƒ†ãƒ ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒä¸å®‰å®šãªç’°å¢ƒã§ã‚‚ã€ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’ç¶™ç¶šã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½

#### 1. ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†
- **åº§å¸­äºˆç´„**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã§ã‚‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸåº§å¸­ãƒ‡ãƒ¼ã‚¿ã§äºˆç´„å¯èƒ½
- **ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³**: ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³çŠ¶æ…‹ã‚’æ›´æ–°
- **å½“æ—¥åˆ¸ç™ºè¡Œ**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã§ã‚‚å½“æ—¥åˆ¸ã‚’ç™ºè¡Œãƒ»åº§å¸­è¡¨ç¤º
- **åº§å¸­ç·¨é›†**: æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã§ã®åº§å¸­ãƒ‡ãƒ¼ã‚¿ç·¨é›†

#### 2. è‡ªå‹•åŒæœŸ
- **ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¾©å¸°æ¤œçŸ¥**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šå¾©æ—§ã‚’è‡ªå‹•æ¤œçŸ¥
- **æ“ä½œã‚­ãƒ¥ãƒ¼**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ä¸­ã®æ“ä½œã‚’é †åºä»˜ãã§ä¿å­˜
- **ç«¶åˆè§£æ±º**: ãƒ‡ãƒ¼ã‚¿ç«¶åˆã‚’è‡ªå‹•ã§è§£æ±º
- **ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½**: å¤±æ•—ã—ãŸæ“ä½œã®è‡ªå‹•å†è©¦è¡Œ
- **ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰åŒæœŸ**: ç´„15ç§’ãŠãã«ã‚­ãƒ¥ãƒ¼åŒæœŸ/ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°ã‚’å®Ÿæ–½

#### 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
- **åº§å¸­ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: æœ€æ–°ã®åº§å¸­æƒ…å ±ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜
- **æœ‰åŠ¹æ€§ãƒã‚§ãƒƒã‚¯**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ‰åŠ¹æœŸé™ã¨æ•´åˆæ€§ã‚’ç®¡ç†
- **è‡ªå‹•æ›´æ–°**: ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ™‚ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°

### ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œãƒ•ãƒ­ãƒ¼
```mermaid
sequenceDiagram
  participant U as ãƒ¦ãƒ¼ã‚¶ãƒ¼
  participant P as ãƒšãƒ¼ã‚¸
  participant O as OfflineSyncV2
  participant C as ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  participant A as API
  participant G as GAS

  Note over U,G: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚
  U->>P: åº§å¸­äºˆç´„/å½“æ—¥åˆ¸ç™ºè¡Œ
  P->>O: æ“ä½œã‚’ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
  O->>C: ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°
  O-->>P: ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†å®Œäº†
  P-->>U: åº§å¸­ç•ªå·è¡¨ç¤º

  Note over U,G: ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¾©å¸°
  O->>O: æ¥ç¶šå¾©æ—§ã‚’æ¤œçŸ¥
  O->>A: ã‚­ãƒ¥ãƒ¼æ“ä½œã‚’é †æ¬¡é€ä¿¡
  A->>G: ã‚µãƒ¼ãƒãƒ¼ã«åæ˜ 
  G-->>A: æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹
  A-->>O: åŒæœŸå®Œäº†
  O->>C: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°
  O-->>P: åŒæœŸå®Œäº†é€šçŸ¥
```

### å½“æ—¥åˆ¸ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç™ºè¡Œã®è©³ç´°ï¼ˆæœ€æ–°ãƒ•ãƒ­ãƒ¼ï¼‰
```mermaid
graph TD
  A[å½“æ—¥åˆ¸ç™ºè¡Œè¦æ±‚] --> B{ã‚ªãƒ³ãƒ©ã‚¤ãƒ³?}
  B -->|Yes| C[é€šå¸¸ã®GAS APIå‘¼ã³å‡ºã—]
  B -->|No| D[ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†]
  
  D --> E{ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹?}
  E -->|Yes| F[åº§å¸­ã‚’ãƒ­ãƒ¼ã‚«ãƒ«äºˆç´„]
  E -->|No| G[ã‚¨ãƒ©ãƒ¼: ãƒ‡ãƒ¼ã‚¿ä¸è¶³]
  
  F --> H[åº§å¸­ç•ªå·ã‚’è¡¨ç¤º]
  H --> I[æ“ä½œã‚’ã‚­ãƒ¥ãƒ¼ã«ä¿å­˜]
  
  J[ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¾©å¸°] --> K[ã‚­ãƒ¥ãƒ¼ã‹ã‚‰æ“ä½œã‚’å–å¾—]
  K --> L[ãƒ­ãƒ¼ã‚«ãƒ«äºˆç´„ã‚’å½“æ—¥åˆ¸ã¨ã—ã¦ç™»éŒ²ï¼ˆC=äºˆç´„æ¸ˆ / D=å½“æ—¥åˆ¸_æ—¥æ™‚ / E=ç©ºï¼‰]
  L --> M[ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°]
  M --> N[åŒæœŸå®Œäº†]
```

### è¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

#### ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸè¨­å®š
- **åŒæœŸé–“éš”**: `OFFLINE_CONFIG.SYNC_INTERVAL` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 30ç§’)
- **ãƒªãƒˆãƒ©ã‚¤å›æ•°**: `OFFLINE_CONFIG.MAX_RETRY_COUNT` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 3å›)
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹æœŸé™**: `OFFLINE_CONFIG.CACHE_EXPIRY` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 24æ™‚é–“)
- **ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ**: `OFFLINE_CONFIG.API_TIMEOUT` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 15ç§’)

#### ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½
```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§åˆ©ç”¨å¯èƒ½
OfflineSyncV2.showQueueStatus()        // ã‚­ãƒ¥ãƒ¼çŠ¶æ³è¡¨ç¤º
OfflineSyncV2.debugCacheData(group, day, timeslot)  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥è©³ç´°
OfflineSyncV2.clearCacheForContext(group, day, timeslot)  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
```

---

## ğŸ”„ URLç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆv2.1ï¼‰

### æ¦‚è¦
è¤‡æ•°ã®API URLã‚’è‡ªå‹•ç®¡ç†ã—ã€ä½¿ç”¨æ•°ä¸Šé™å›é¿ã¨è² è·åˆ†æ•£ã‚’å®Ÿç¾ã™ã‚‹é«˜åº¦ãªURLç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã€‚

### ä¸»è¦æ©Ÿèƒ½

#### 1. è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- **å®šæœŸåˆ‡ã‚Šæ›¿ãˆ**: 5åˆ†é–“éš”ã§è‡ªå‹•çš„ã«URLã‚’åˆ‡ã‚Šæ›¿ãˆ
- **ãƒ©ãƒ³ãƒ€ãƒ åˆæœŸåŒ–**: èµ·å‹•æ™‚ã«ãƒ©ãƒ³ãƒ€ãƒ ãªURLã‚’é¸æŠ
- **ç¢ºå®Ÿãªå¤‰æ›´**: å¿…ãšç¾åœ¨ã®URLã¨ã¯ç•°ãªã‚‹URLã‚’é¸æŠ

#### 2. æ‰‹å‹•URLå¤‰æ›´
- **æ›´æ–°ãƒœã‚¿ãƒ³**: å³ä¸Šã®ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã§å³åº§ã«URLå¤‰æ›´
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€šçŸ¥**: URLå¤‰æ›´æ™‚ã«è¦–è¦šçš„ãªé€šçŸ¥ã‚’è¡¨ç¤º
- **URLæƒ…å ±è¡¨ç¤º**: ç¾åœ¨ä½¿ç”¨ä¸­ã®API URLã‚’è¡¨ç¤º

#### 3. ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼æ©Ÿèƒ½
- **è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ**: APIå‘¼ã³å‡ºã—å¤±æ•—æ™‚ã«æ¬¡ã®URLã«è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
- **ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½**: è¤‡æ•°URLã§ã®å†è©¦è¡Œ
- **ã‚¨ãƒ©ãƒ¼å‡¦ç†**: è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã¨ãƒ‡ãƒãƒƒã‚°æƒ…å ±

### URLç®¡ç†ãƒ•ãƒ­ãƒ¼
```mermaid
graph TD
    A[APIå‘¼ã³å‡ºã—] --> B{ç¾åœ¨ã®URL}
    B --> C[APIå‘¼ã³å‡ºã—å®Ÿè¡Œ]
    C --> D{æˆåŠŸ?}
    D -->|æˆåŠŸ| E[ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´]
    D -->|å¤±æ•—| F[æ¬¡ã®URLé¸æŠ]
    F --> G[ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼å®Ÿè¡Œ]
    G --> H{å…¨URLè©¦è¡Œæ¸ˆã¿?}
    H -->|No| C
    H -->|Yes| I[ã‚¨ãƒ©ãƒ¼è¿”å´]
    
    J[å®šæœŸãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³] --> K[URLå¤‰æ›´]
    K --> L[ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€šçŸ¥]
    
    M[æ‰‹å‹•æ›´æ–°] --> N[ãƒ©ãƒ³ãƒ€ãƒ URLé¸æŠ]
    N --> O[URLå¤‰æ›´]
    O --> P[ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€šçŸ¥]
```

### è¨­å®šæ–¹æ³•

#### 1. åŸºæœ¬è¨­å®š
```javascript
// config.js
const GAS_API_URLS = [
  "https://script.google.com/macros/s/MAIN_DEPLOY_ID/exec",
  "https://script.google.com/macros/s/BACKUP_DEPLOY_ID/exec",
  "https://script.google.com/macros/s/THIRD_DEPLOY_ID/exec"
];
```

#### 2. ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³é–“éš”ã®èª¿æ•´
```javascript
// config.js - APIUrlManager ã‚¯ãƒ©ã‚¹å†…
this.rotationInterval = 5 * 60 * 1000; // 5åˆ†é–“éš”ï¼ˆãƒŸãƒªç§’ï¼‰
```

#### 3. ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½
```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§åˆ©ç”¨å¯èƒ½
GasAPI.getUrlManagerInfo()     // ç¾åœ¨ã®URLæƒ…å ±ã‚’å–å¾—
GasAPI.selectRandomUrl()       // æ‰‹å‹•ã§ãƒ©ãƒ³ãƒ€ãƒ URLé¸æŠ
GasAPI.getAllUrls()           // åˆ©ç”¨å¯èƒ½ãªURLä¸€è¦§ã‚’å–å¾—
```

### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€šçŸ¥

#### è¡¨ç¤ºå†…å®¹
- **ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ™‚**: â†» ã‚¢ã‚¤ã‚³ãƒ³ + "API URL ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³"
- **ãƒ©ãƒ³ãƒ€ãƒ é¸æŠæ™‚**: âš¡ ã‚¢ã‚¤ã‚³ãƒ³ + "API URL ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ"
- **URLè¡¨ç¤º**: ãƒ‡ãƒ—ãƒ­ã‚¤IDã®æœ€åˆã®8æ–‡å­—ã‚’è¡¨ç¤º

#### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
- **ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³**: ä¸Šã‹ã‚‰ä¸‹ã¸æ»‘ã‚‰ã‹ã«è¡¨ç¤º
- **ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¢ã‚¦ãƒˆ**: ä¸‹ã‹ã‚‰ä¸Šã¸æ»‘ã‚‰ã‹ã«éè¡¨ç¤º
- **è‡ªå‹•æ¶ˆå»**: 3ç§’å¾Œã«è‡ªå‹•ã§æ¶ˆãˆã‚‹
- **ã‚¯ãƒªãƒƒã‚¯æ¶ˆå»**: ã‚¯ãƒªãƒƒã‚¯ã§å³åº§ã«æ¶ˆã™

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ã‚ˆãã‚ã‚‹å•é¡Œ
1. **URLå¤‰æ›´ã•ã‚Œãªã„**
   - `GAS_API_URLS` ã«è¤‡æ•°ã®URLãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
   - ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª

2. **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„**
   - `showUrlChangeAnimation` é–¢æ•°ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
   - ãƒ–ãƒ©ã‚¦ã‚¶ã®JavaScriptã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª

3. **ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ãŒå‹•ä½œã—ãªã„**
   - å„URLãŒæ­£ã—ããƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
   - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šçŠ¶æ³ã‚’ç¢ºèª

---

## ğŸ”§ è¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### åŸºæœ¬è¨­å®š
- **API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `config.js` ã® `GAS_API_URLS` é…åˆ—
- **ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°**: `config.js` ã® `DEBUG_MODE`
- **URLç®¡ç†è¨­å®š**: `config.js` ã® `APIUrlManager` ã‚¯ãƒ©ã‚¹
- **ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³é–“éš”**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ5åˆ†é–“éš”ï¼ˆ`rotationInterval`ï¼‰

---

## ğŸ§ª DEMOãƒ¢ãƒ¼ãƒ‰

DEMOãƒ¢ãƒ¼ãƒ‰ã¯ã€æŒ‡å®šã—ãŸURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰ã®ã¿èµ·å‹•ã§ãã€UIã«ã¯è¡¨ç¤ºã•ã‚Œãªã„éš ã—ãƒ¢ãƒ¼ãƒ‰ã§ã™ã€‚DEMOãƒ¢ãƒ¼ãƒ‰ä¸­ã¯ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ãŒã€Œè¦‹æœ¬æ¼”åŠ‡ã€å°‚ç”¨ã¨ã—ã¦å‹•ä½œã—ã¾ã™ã€‚

### ç‰¹å¾´
- UIä¸Šã®ãƒ¢ãƒ¼ãƒ‰è¡¨ç¤ºãƒ»åˆ‡æ›¿ã«ã¯ä¸€åˆ‡å‡ºã¾ã›ã‚“ï¼ˆéš ã—ãƒ¢ãƒ¼ãƒ‰ï¼‰
- URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã®ã¿èµ·å‹•å¯èƒ½ï¼ˆä¾‹: `?demo=1`ï¼‰
- DEMOä¸­ã¯ã‚°ãƒ«ãƒ¼ãƒ—ãŒå¼·åˆ¶çš„ã«ã€Œè¦‹æœ¬æ¼”åŠ‡ã€ã«ãªã‚Šã¾ã™
- äºˆç´„ãƒ»ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ãƒ»å½“æ—¥åˆ¸ç™ºè¡Œãƒ»æœ€é«˜ç®¡ç†è€…ãªã©ã®æ©Ÿèƒ½ã¯é€šå¸¸é€šã‚Šä½¿ãˆã¾ã™ï¼ˆå¯¾è±¡ã¯ã€Œè¦‹æœ¬æ¼”åŠ‡ã€ã«é™å®šï¼‰
- ã€Œè¦‹æœ¬æ¼”åŠ‡ã€ä»¥å¤–ã®ã‚¯ãƒ©ã‚¹ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€Œæ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€ã¨è¡¨ç¤ºã•ã‚Œã¾ã™

### èµ·å‹•æ–¹æ³•
ä»»æ„ã®ãƒšãƒ¼ã‚¸ã®URLã« `demo=1` ã‚’ä»˜ä¸ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

ä¾‹:
```
seats.html?group=è¦‹æœ¬æ¼”åŠ‡&day=1&timeslot=A&demo=1
```

### è§£é™¤æ–¹æ³•

#### URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§ã®è§£é™¤
ä»»æ„ã®ãƒšãƒ¼ã‚¸ã®URLã« `demo=0` ã‚’ä»˜ä¸ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

ä¾‹:
```
index.html?demo=0
seats.html?group=è¦‹æœ¬æ¼”åŠ‡&day=1&timeslot=A&demo=0
```

å¯¾å¿œã™ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼å€¤:
- `demo=0`, `demo=false`, `demo=off`, `demo=no`, `demo=disable`

#### ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®è§£é™¤
ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```
DemoMode.disable()
```

æœ‰åŠ¹åŒ–ã®ç¢ºèª/æ‰‹å‹•æœ‰åŠ¹åŒ–:
```
DemoMode.isActive()
DemoMode.enable()
```

### æŠ€è¡“ãƒ¡ãƒ¢
- å®Ÿè£…: `config.js` ã® `DemoModeManager`
- å¼·åˆ¶ã¨ã‚¬ãƒ¼ãƒ‰é©ç”¨å…ˆ:
  - `timeslot-main.js`ï¼ˆã‚°ãƒ«ãƒ¼ãƒ—å¼·åˆ¶ãƒ»ä»–ã‚¯ãƒ©ã‚¹æ‹’å¦ï¼‰
  - `seats-main.js`ï¼ˆGROUPå¼·åˆ¶ãƒ»ä»–ã‚¯ãƒ©ã‚¹æ‹’å¦ï¼‰
  - `walkin-main.js`ï¼ˆGROUPå¼·åˆ¶ãƒ»ä»–ã‚¯ãƒ©ã‚¹æ‹’å¦ï¼‰


### ç‹¬ç«‹GASï¼ˆãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼/ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨ï¼‰ã®è¿½åŠ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †
1. æ–°ã—ã„ Google Apps Script ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆï¼ˆæœ¬ä½“ã¨ã¯åˆ¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰
2. æœ¬ãƒªãƒã‚¸ãƒˆãƒªã®ä»¥ä¸‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã‚³ãƒ”ãƒ¼
   - `OfflineCode.gs`
   - `OfflineSpreadsheetIds.gs`
   - `OfflineTimeSlotConfig.gs`
   - å¿…è¦ã«å¿œã˜ã¦ï¼ˆä»»æ„ï¼‰`system-setting.gs` ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š
3. `OfflineSpreadsheetIds.gs` ã® `SEAT_SHEET_IDS`/`LOG_SHEET_IDS` ã‚’é‹ç”¨å€¤ã«æ›´æ–°
4. æ–°è¦GASã‚’ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã¨ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆé–¢æ•°: `doGet`ï¼‰
5. ãƒ‡ãƒ—ãƒ­ã‚¤URLã‚’ `config.js` ã® `GAS_API_URLS` é…åˆ—ã«è¿½åŠ 
   - ä¾‹: `const GAS_API_URLS = [ 'https://script.google.com/macros/s/MAIN_DEPLOY_ID/exec', 'https://script.google.com/macros/s/BACKUP_DEPLOY_ID/exec' ];`
6. ãƒ•ãƒ­ãƒ³ãƒˆã¯å¤‰æ›´ä¸è¦ã€‚æ—¢å­˜ã® `api.js` ã¨ `APIUrlManager` ãŒè‡ªå‹•ã§URLç®¡ç†ã‚’å®Ÿè¡Œã—ã¾ã™


### æ©Ÿèƒ½åˆ¥è¨­å®š
- **æ™‚é–“å¸¯è¨­å®šï¼ˆãƒ•ãƒ­ãƒ³ãƒˆï¼‰**: `timeslot-schedules.js` ã® `TIMESLOT_SCHEDULES`
- **æ™‚é–“å¸¯è¨­å®šï¼ˆGASï¼‰**: `TimeSlotConfig.gs`ï¼ˆ`_getAllTimeslotsForGroup` çµŒç”±ã§ API æä¾›ï¼‰
- **ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ ID**: `SpreadsheetIds.gs` ã® `SEAT_SHEET_IDS` / `LOG_SHEET_IDS`
- **ã‚µã‚¤ãƒ‰ãƒãƒ¼/ãƒ¢ãƒ¼ãƒ‰ UI**: `sidebar.js` / `sidebar.css`
- **åº§å¸­ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: `seats-main.js` ã® `layout`ï¼ˆè¡Œ/åˆ—/é€šè·¯ä½ç½®ãªã©ï¼‰
- **åº§å¸­ã‚¹ã‚¿ã‚¤ãƒ«**: `seats.css`ï¼ˆè‰²ã€ã‚µã‚¤ã‚ºã€å‡¡ä¾‹ãªã©ï¼‰
- **å½“æ—¥åˆ¸ã®æšæ•° UI**: `walkin.css`ï¼ˆ`walkin-qty-*` ã‚¯ãƒ©ã‚¹ï¼‰
- **æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰**: `seats-main.js` ã®åº§å¸­ç·¨é›†æ©Ÿèƒ½ã€`seats.css` ã®ã‚¹ã‚¿ã‚¤ãƒ«

### å¤‰æ›´ã®ãƒ’ãƒ³ãƒˆ
- å¸­è¡Œåˆ—æ§‹æˆã‚’å¤‰ãˆã‚‹å ´åˆã¯ã€GAS å´ã® `isValidSeatId()`ï¼ˆè¡Œã®æœ€å¤§å¸­æ•°ï¼‰ã¨ã€ãƒ•ãƒ­ãƒ³ãƒˆã® `layout`/æç”»ã«æ•´åˆæ€§ã‚’æŒãŸã›ã¦ãã ã•ã„
- ã‚·ãƒ¼ãƒˆåã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€`SpreadsheetIds.gs` ã® `TARGET_SEAT_SHEET_NAME` ã‚’åˆã‚ã›ã¦å¤‰æ›´ã—ã¾ã™
- ãƒ¢ãƒ¼ãƒ‰èªè¨¼ã®è¦ä»¶ã‚’å¤‰ãˆã‚‹å ´åˆã¯ã€`sidebar.js` ã® `applyModeChange()` ã¨ GAS å´ `verifyModePassword()` ã‚’èª¿æ•´ã—ã¾ã™
- æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã®ç·¨é›†å¯èƒ½åˆ—ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€`Code.gs` ã® `updateSeatData()` é–¢æ•°ã‚’ä¿®æ­£ã—ã¾ã™

---

## ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç®¡ç†
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ GAS ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ä¿å­˜
- ãƒªãƒã‚¸ãƒˆãƒªã«å¹³æ–‡ã§ç½®ã‹ãªã„
- å…¬é–‹ãƒ¬ãƒ™ãƒ«ã¯é‹ç”¨æ–¹é‡ã«å¾“ã£ã¦æœ€å°æ¨©é™ã«ã™ã‚‹

### æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰
- æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã¯æœ€ã‚‚é«˜ã„æ¨©é™ã‚’æŒã¤ãŸã‚ã€é©åˆ‡ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç®¡ç†ãŒé‡è¦ã§ã™
- å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ä½¿ç”¨
- å®šæœŸçš„ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´
- å¿…è¦æœ€å°é™ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ã«æ¨©é™ã‚’ä»˜ä¸

### å½“æ—¥åˆ¸æ©Ÿèƒ½ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™
- **ãƒšãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«åˆ¶é™**: å½“æ—¥åˆ¸ãƒšãƒ¼ã‚¸ï¼ˆ`walkin.html`ï¼‰ã¯å½“æ—¥åˆ¸ãƒ¢ãƒ¼ãƒ‰ã¾ãŸã¯æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã§ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- **è‡ªå‹•ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ**: è¨±å¯ã•ã‚Œã¦ã„ãªã„ãƒ¢ãƒ¼ãƒ‰ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸå ´åˆã€åº§å¸­é¸æŠãƒšãƒ¼ã‚¸ã«è‡ªå‹•ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- **ãƒœã‚¿ãƒ³ãƒ¬ãƒ™ãƒ«åˆ¶é™**: åº§å¸­é¸æŠç”»é¢ã®å½“æ—¥åˆ¸ãƒœã‚¿ãƒ³ã¯ã€è¨±å¯ã•ã‚ŒãŸãƒ¢ãƒ¼ãƒ‰ã§ã®ã¿è¡¨ç¤ºãƒ»æœ‰åŠ¹åŒ–
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ¶å¾¡**: ã‚µã‚¤ãƒ‰ãƒãƒ¼ã§ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´æ™‚ã«å³åº§ã«ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ãŒé©ç”¨ã•ã‚Œã‚‹

---

## ğŸ“Š ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆv2.2æœ€é©åŒ–ç‰ˆï¼‰
```mermaid
graph TB
  subgraph "æœ€é©åŒ–ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰"
    A[OptimizedLoader]
    B[ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ»ãƒ¢ãƒ¼ãƒ‰ç®¡ç†]
    C[åº§å¸­è¡¨ç¤ºãƒ»ç·¨é›†]
    D[å½“æ—¥åˆ¸ç™ºè¡Œ]
    E[UIOptimizer]
    F[PerformanceMonitor]
  end
  
  subgraph "é€šä¿¡å±¤ï¼ˆæœ€é©åŒ–ï¼‰"
    G[OptimizedGasAPI]
    H[APICache]
    I[URLç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ]
    J[ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼]
    K[ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°]
  end
  
  subgraph "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰"
    L[GAS Web App]
    M[API ãƒ«ãƒ¼ã‚¿ãƒ¼]
    N[ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯]
  end
  
  subgraph "ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢"
    O[Google Spreadsheet]
    P[åº§å¸­ãƒ‡ãƒ¼ã‚¿]
    Q[ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿]
  end
  
  A --> G
  A --> H
  G --> I
  G --> J
  G --> K
  G --> L
  L --> O
  B --> G
  C --> G
  D --> G
  E --> A
  F --> A
```

### ãƒšãƒ¼ã‚¸é·ç§»ãƒ•ãƒ­ãƒ¼
```mermaid
graph TD
  I[index.html çµ„é¸æŠ] --> T[timeslot.html æ™‚é–“å¸¯é¸æŠ]
  T -->|é€šå¸¸| S[seats.html åº§å¸­è¡¨ç¤º/äºˆç´„]
  T -->|å½“æ—¥åˆ¸| W[walkin.html å½“æ—¥åˆ¸ç™ºè¡Œ]
  S -->|ç®¡ç†è€…| S
  S -->|æœ€é«˜ç®¡ç†è€…| S
```

### æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼
```mermaid
graph TD
  A[åº§å¸­ã‚¯ãƒªãƒƒã‚¯] --> B[é¸æŠçŠ¶æ…‹è¡¨ç¤º]
  B --> C[ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º]
  C --> D[C,D,Eåˆ—ã®å…¥åŠ›]
  D --> E[ç¢ºå®šãƒœã‚¿ãƒ³]
  E --> F[ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°]
  F -->|ã¯ã„| G[ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ›´æ–°]
  F -->|ã„ã„ãˆ| H[ã‚­ãƒ£ãƒ³ã‚»ãƒ«]
  G --> I[åº§å¸­ãƒ‡ãƒ¼ã‚¿å†èª­ã¿è¾¼ã¿]
  I --> J[é¸æŠçŠ¶æ…‹ã‚¯ãƒªã‚¢]
```

### ãƒ¢ãƒ¼ãƒ‰èªè¨¼ãƒ•ãƒ­ãƒ¼
```mermaid
graph TD
  A[ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ãƒœã‚¿ãƒ³] --> B[ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›]
  B --> C[GASèªè¨¼APIå‘¼ã³å‡ºã—]
  C --> D{èªè¨¼æˆåŠŸ?}
  D -->|ã¯ã„| E[ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ]
  D -->|ã„ã„ãˆ| F[ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸]
  E --> G[ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰]
```

---

## ğŸ”„ æŠ€è¡“ä»•æ§˜

### JSONP é€šä¿¡
- `api.js` ãŒ `<script>` ã‚’ç”Ÿæˆã—ã€`callback` ã§å¿œç­”ã‚’å—ã‘å–ã‚Šã¾ã™
- 15s ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚¹ã‚¿ãƒ¼ã€æˆåŠŸæ™‚ã¯ã‚¿ã‚¤ãƒãƒ¼è§£é™¤
- å¤±æ•—æ™‚ã¯ `GAS_API_URLS` ã®æ¬¡URLã«è‡ªå‹•ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼

### Walk-in ç™ºè¡Œ
- `walkin-main.js`
- å†å…¥é˜²æ­¢ãƒ•ãƒ©ã‚°ã§å¤šé‡å®Ÿè¡Œã‚’æŠ‘æ­¢
- è¤‡æ•°å¸­APIå¤±æ•—æ™‚ã¯å˜ç™ºAPIã‚’è¤‡æ•°å›å‘¼ã¶ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

### ã‚µã‚¤ãƒ‰ãƒãƒ¼
- `sidebar.js`
- ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã§é‡ã­è¡¨ç¤ºã€èƒŒæ™¯æš—è»¢
- å¤–å´ã‚¯ãƒªãƒƒã‚¯/Ã—ã§é–‰ã˜ã‚‹
- ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´æ™‚ã¯äºŒé‡é€ä¿¡é˜²æ­¢ï¼ˆå‡¦ç†ä¸­ã¯ãƒœã‚¿ãƒ³/å…¥åŠ›ã‚’ç„¡åŠ¹åŒ–ï¼‰

### æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰
- `seats-main.js`
- åº§å¸­ã‚¯ãƒªãƒƒã‚¯ã§ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
- Cã€Dã€Eåˆ—ã®ãƒ‡ãƒ¼ã‚¿ç·¨é›†
- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¸ã®ç›´æ¥æ›´æ–°
- è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¨é¸æŠçŠ¶æ…‹ç®¡ç†

---

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

### ğŸŒ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆHTML/CSS/JSï¼‰

#### ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
- **`index.html`**: çµ„é¸æŠãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³HTML
  - ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚³ãƒ³ãƒ†ãƒŠã€çµ„é¸æŠUIã€åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  - ä¾å­˜: `styles.css`, `sidebar.css`, `config.js`, `api.js`, `sidebar.js`, `index-main.js`
- **`index-main.js`**: çµ„é¸æŠãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
  - çµ„ä¸€è¦§ã®è¡¨ç¤ºã€é¸æŠæ™‚ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†
  - ä¾å­˜: `config.js`, `api.js`, `sidebar.js`

- **`timeslot.html`**: æ™‚é–“å¸¯é¸æŠãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³HTML
  - æ™‚é–“å¸¯é¸æŠUIã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¦ç´ 
  - ä¾å­˜: `styles.css`, `sidebar.css`, `config.js`, `api.js`, `sidebar.js`, `timeslot-main.js`
- **`timeslot-main.js`**: æ™‚é–“å¸¯é¸æŠãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
  - æ™‚é–“å¸¯ä¸€è¦§ã®è¡¨ç¤ºã€é¸æŠæ™‚ã®ãƒšãƒ¼ã‚¸é·ç§»å‡¦ç†
  - ä¾å­˜: `config.js`, `api.js`, `sidebar.js`, `timeslot-schedules.js`
- **`timeslot-schedules.js`**: æ™‚é–“å¸¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®šç¾©
  - å„çµ„ã®æ™‚é–“å¸¯ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å›ºå®šï¼‰
  - ä¾å­˜: ãªã—ï¼ˆç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

- **`seats.html`**: åº§å¸­é¸æŠãƒ»äºˆç´„ãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³HTML
  - åº§å¸­ãƒãƒƒãƒ—è¡¨ç¤ºã‚¨ãƒªã‚¢ã€æ“ä½œãƒœã‚¿ãƒ³ã€è‡ªå‹•æ›´æ–°è¨­å®šUI
  - ä¾å­˜: `styles.css`, `sidebar.css`, `seats.css`, `config.js`, `api.js`, `sidebar.js`, `seats-main.js`
- **`seats-main.js`**: åº§å¸­é¸æŠãƒ»äºˆç´„ãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
  - åº§å¸­ãƒãƒƒãƒ—æç”»ã€äºˆç´„å‡¦ç†ã€ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³å‡¦ç†ã€æœ€é«˜ç®¡ç†è€…ç·¨é›†æ©Ÿèƒ½
  - è‡ªå‹•æ›´æ–°æ©Ÿèƒ½ã€æ¥½è¦³çš„æ›´æ–°ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - ä¾å­˜: `config.js`, `api.js`, `sidebar.js`, `seats.css`
- **`seats.css`**: åº§å¸­é¸æŠãƒšãƒ¼ã‚¸å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ«
  - åº§å¸­ãƒãƒƒãƒ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€åº§å¸­çŠ¶æ…‹åˆ¥è‰²åˆ†ã‘ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ã€è‡ªå‹•æ›´æ–°è¨­å®šUI
  - ä¾å­˜: `styles.css`ï¼ˆåŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«ç¶™æ‰¿ï¼‰

- **`walkin.html`**: å½“æ—¥åˆ¸ç™ºè¡Œãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³HTML
  - å½“æ—¥åˆ¸ç™ºè¡ŒUIã€æšæ•°é¸æŠã€ç™ºè¡Œæ–¹æ³•é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ«
  - ä¾å­˜: `styles.css`, `sidebar.css`, `walkin.css`, `config.js`, `api.js`, `sidebar.js`, `walkin-main.js`
- **`walkin-main.js`**: å½“æ—¥åˆ¸ç™ºè¡Œãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
  - å½“æ—¥åˆ¸ç™ºè¡Œå‡¦ç†ã€æšæ•°é¸æŠã€é€£ç¶šå¸­/ãƒ©ãƒ³ãƒ€ãƒ é¸æŠæ©Ÿèƒ½
  - ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - ä¾å­˜: `config.js`, `api.js`, `sidebar.js`, `walkin.css`
- **`walkin.css`**: å½“æ—¥åˆ¸ãƒšãƒ¼ã‚¸å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ«
  - å½“æ—¥åˆ¸UIã€æšæ•°é¸æŠã€é€šçŸ¥ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
  - ä¾å­˜: `styles.css`ï¼ˆåŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«ç¶™æ‰¿ï¼‰

#### æœ€é©åŒ–ãƒ»å…±é€šãƒ•ã‚¡ã‚¤ãƒ«
- **`optimized-loader.js`**: æœ€é©åŒ–ã•ã‚ŒãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ­ãƒ¼ãƒ€ãƒ¼
  - ä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ã—ãŸä¸¦åˆ—ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«èª­ã¿è¾¼ã¿
  - æ®µéšçš„åˆæœŸåŒ–ï¼ˆã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«â†’ã‚»ã‚«ãƒ³ãƒ€ãƒªâ†’ãã®ä»–ï¼‰
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
  - ä¾å­˜: ãªã—ï¼ˆä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç®¡ç†ï¼‰
- **`api-cache.js`**: ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ 
  - APIå‘¼ã³å‡ºã—ã®é‡è¤‡æ’é™¤
  - TTLç®¡ç†ã¨ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–
  - è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—æ©Ÿèƒ½
  - ä¾å­˜: ãªã—ï¼ˆç‹¬ç«‹ï¼‰
- **`optimized-api.js`**: æœ€é©åŒ–ã•ã‚ŒãŸAPIå‘¼ã³å‡ºã—æ©Ÿèƒ½
  - ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œã®JSONPé€šä¿¡
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€URLç®¡ç†ã‚·ã‚¹ãƒ†ãƒ é€£æº
  - ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼æ©Ÿèƒ½ã€å…¨APIé–¢æ•°ã®ãƒ©ãƒƒãƒ‘ãƒ¼
  - ä¾å­˜: `config.js`, `api-cache.js`
- **`ui-optimizer.js`**: UIå¿œç­”æ€§ã®æœ€é©åŒ–
  - ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã®æœ€é©åŒ–
  - ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–
  - ãƒ¡ãƒ¢ãƒªç›£è¦–æ©Ÿèƒ½
  - ä¾å­˜: ãªã—ï¼ˆç‹¬ç«‹ï¼‰
- **`performance-monitor.js`**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
  - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤ºï¼ˆCtrl+Shift+Pï¼‰
  - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ç›£è¦–
  - ä¾å­˜: ãªã—ï¼ˆç‹¬ç«‹ï¼‰
- **`config.js`**: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã¨URLç®¡ç†æ©Ÿèƒ½
  - GAS API URLé…åˆ—ã€URLç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆAPIUrlManagerï¼‰
  - ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰è¨­å®šã€ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°æ©Ÿèƒ½
  - è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼æ©Ÿèƒ½
  - ä¾å­˜: ãªã—ï¼ˆä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ï¼‰
- **`styles.css`**: å…¨ä½“å…±é€šã‚¹ã‚¿ã‚¤ãƒ«
  - åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒœã‚¿ãƒ³ã€ãƒ•ã‚©ãƒ¼ãƒ ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
  - ä¾å­˜: ãªã—ï¼ˆä»–ã®CSSãƒ•ã‚¡ã‚¤ãƒ«ã®åŸºç›¤ï¼‰
- **`sidebar.js`**: ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¨ãƒ¢ãƒ¼ãƒ‰ç®¡ç†æ©Ÿèƒ½
  - ã‚µã‚¤ãƒ‰ãƒãƒ¼è¡¨ç¤ºåˆ¶å¾¡ã€ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿UIã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
  - ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³åˆ¶å¾¡ã€GASç–é€šãƒ†ã‚¹ãƒˆ
  - ä¾å­˜: `optimized-api.js`
- **`sidebar.css`**: ã‚µã‚¤ãƒ‰ãƒãƒ¼å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ«
  - ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ãƒ¢ãƒ¼ãƒ€ãƒ«ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
  - ä¾å­˜: `styles.css`ï¼ˆåŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«ç¶™æ‰¿ï¼‰

#### ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†
- **`system-lock.js`**: ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒƒã‚¯æ©Ÿèƒ½
  - ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ­ãƒƒã‚¯çŠ¶æ…‹ç®¡ç†ã€ãƒ­ãƒƒã‚¯/ã‚¢ãƒ³ãƒ­ãƒƒã‚¯å‡¦ç†
  - ä¾å­˜: `error-handler.js`, `optimized-api.js`
- **`error-handler.js`**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ©Ÿèƒ½
  - ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒƒãƒã€ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã€ãƒ­ã‚°æ©Ÿèƒ½
  - ä¾å­˜: ãªã—ï¼ˆç‹¬ç«‹ï¼‰

#### ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸã‚·ã‚¹ãƒ†ãƒ 
- **`offline-sync-v2.js`**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸã‚·ã‚¹ãƒ†ãƒ ï¼ˆv2.0æœ€é©åŒ–ç‰ˆï¼‰
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ“ä½œã‚­ãƒ¥ãƒ¼ã€è‡ªå‹•åŒæœŸï¼ˆ15ç§’é–“éš”ï¼‰ã€ç«¶åˆè§£æ±º
  - ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†ã€å½“æ—¥åˆ¸ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç™ºè¡Œï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³åŒç­‰ã®å¸­é¸å®šï¼‰
  - ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–ï¼ˆã‚­ãƒ¥ãƒ¼ã‚µã‚¤ã‚º200ä»¶ã€30ç§’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼‰
  - ä¾å­˜: `config.js`, `optimized-api.js`
- **`offline-sync-v2.css`**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸUI
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã€åŒæœŸé€²æ—ãƒãƒ¼ã€é€šçŸ¥ã‚¹ã‚¿ã‚¤ãƒ«
  - ä¾å­˜: `styles.css`
- **`sw.js`**: Service Workerï¼ˆv2.2æœ€é©åŒ–ç‰ˆï¼‰
  - æ®µéšçš„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«6å€‹â†’ã‚»ã‚«ãƒ³ãƒ€ãƒª20å€‹ï¼‰
  - ãƒ¡ãƒ¢ãƒªåœ§è¿«é˜²æ­¢ï¼ˆãƒãƒƒãƒã‚µã‚¤ã‚º3å€‹ã€100mså¾…æ©Ÿï¼‰
  - iOSå¯¾å¿œæœ€é©åŒ–
  - ä¾å­˜: ãªã—ï¼ˆç‹¬ç«‹ï¼‰

### ğŸ”§ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆGoogle Apps Scriptï¼‰

#### ãƒ¡ã‚¤ãƒ³API
- **`Code.gs`**: ãƒ¡ã‚¤ãƒ³APIå‡¦ç†ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
  - **API ãƒ«ãƒ¼ã‚¿ãƒ¼**: `doGet`/`doPost`ã«ã‚ˆã‚‹JSONPé€šä¿¡å‡¦ç†
  - **åº§å¸­ç®¡ç†**: `getSeatData`, `getSeatDataMinimal` - åº§å¸­ãƒ‡ãƒ¼ã‚¿å–å¾—
  - **äºˆç´„æ©Ÿèƒ½**: `reserveSeats` - è¤‡æ•°åº§å¸­äºˆç´„
  - **ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³æ©Ÿèƒ½**: `checkInSeat`, `checkInMultipleSeats` - å˜ä½“/è¤‡æ•°ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³
  - **å½“æ—¥åˆ¸æ©Ÿèƒ½**: `assignWalkInSeat`, `assignWalkInSeats`, `assignWalkInConsecutiveSeats` - å½“æ—¥åˆ¸ç™ºè¡Œ
  - **æœ€é«˜ç®¡ç†è€…æ©Ÿèƒ½**: `updateSeatData`, `updateMultipleSeats` - åº§å¸­ãƒ‡ãƒ¼ã‚¿ç·¨é›†
  - **èªè¨¼æ©Ÿèƒ½**: `verifyModePassword` - ãƒ¢ãƒ¼ãƒ‰åˆ¥ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
  - **ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†**: `getSystemLock`, `setSystemLock` - ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒƒã‚¯åˆ¶å¾¡
  - **å±é™ºã‚³ãƒãƒ³ãƒ‰**: `execDangerCommand` - ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å°‚ç”¨å±é™ºæ“ä½œ
  - **ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½**: `testApi` - å…¨æ©Ÿèƒ½ç–é€šãƒ†ã‚¹ãƒˆ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†**: `reportError` - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¨ãƒ©ãƒ¼å ±å‘Š
  - **ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°**: `isValidSeatId`, `getSheet` - å…±é€šå‡¦ç†
  - ä¾å­˜: `TimeSlotConfig.gs`, `SpreadsheetIds.gs`

#### è¨­å®šãƒ»ãƒ‡ãƒ¼ã‚¿ç®¡ç†
- **`SpreadsheetIds.gs`**: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDç®¡ç†
  - å…¬æ¼”åˆ¥ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDå®šç¾©ã€ã‚·ãƒ¼ãƒˆåè¨­å®š
  - åº§å¸­ã‚·ãƒ¼ãƒˆã€ãƒ­ã‚°ã‚·ãƒ¼ãƒˆã®IDç®¡ç†
  - ä¾å­˜: ãªã—ï¼ˆCode.gsã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ï¼‰
- **`TimeSlotConfig.gs`**: æ™‚é–“å¸¯è¨­å®šç®¡ç†
  - çµ„åˆ¥æ™‚é–“å¸¯ãƒ‡ãƒ¼ã‚¿å®šç¾©ã€æ™‚é–“å¸¯å–å¾—API
  - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®æ™‚é–“å¸¯ãƒ‡ãƒ¼ã‚¿åŒæœŸ
  - ä¾å­˜: ãªã—ï¼ˆCode.gsã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ï¼‰
- **`system-setting.gs`**: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®šã€åˆæœŸåŒ–å‡¦ç†
  - ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã®ä¸€æ‹¬ç®¡ç†
  - ä¾å­˜: ãªã—ï¼ˆæ‰‹å‹•å®Ÿè¡Œç”¨ï¼‰

#### ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ï¼‰
- **`OfflineCode.gs`**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨ãƒ¡ã‚¤ãƒ³APIå‡¦ç†
  - ãƒ¡ã‚¤ãƒ³GASã¨åŒæ§˜ã®æ©Ÿèƒ½ã‚’æä¾›
  - ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ç”¨ã®ç‹¬ç«‹ã—ãŸGASãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
  - ä¾å­˜: `OfflineSpreadsheetIds.gs`, `OfflineTimeSlotConfig.gs`
- **`OfflineSpreadsheetIds.gs`**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDç®¡ç†
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨GASãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDè¨­å®š
  - ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¨ã¯ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢
  - ä¾å­˜: ãªã—ï¼ˆOfflineCode.gsã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ï¼‰
- **`OfflineTimeSlotConfig.gs`**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨æ™‚é–“å¸¯è¨­å®š
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨GASãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã®æ™‚é–“å¸¯è¨­å®š
  - ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¨åŒæœŸã—ãŸæ™‚é–“å¸¯ãƒ‡ãƒ¼ã‚¿
  - ä¾å­˜: ãªã—ï¼ˆOfflineCode.gsã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ï¼‰

### ğŸ“Š ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæƒ…å ±

| ãƒ•ã‚¡ã‚¤ãƒ« | ã‚µã‚¤ã‚º (è¡Œ) | èª¬æ˜ |
|----------|-------------|------|
| **.gitignore** | 1 | Gité™¤å¤–è¨­å®š |
| **CNAME** | 0 | ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š |
| **Code.gs** | 1,240 | ãƒ¡ã‚¤ãƒ³APIå‡¦ç†ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ |
| **LICENSE** | 21 | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ± |
| **OFFLINE_SYNC_README.md** | 254 | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸæ©Ÿèƒ½ã®è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
| **OfflineCode.gs** | 463 | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨GASã‚³ãƒ¼ãƒ‰ |
| **OfflineSpreadsheetIds.gs** | 68 | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDç®¡ç† |
| **OfflineTimeSlotConfig.gs** | 71 | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨æ™‚é–“å¸¯è¨­å®š |
| **README.md** | 997 | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
| **SpreadsheetIds.gs** | 80 | ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDç®¡ç† |
| **TimeSlotConfig.gs** | 95 | æ™‚é–“å¸¯è¨­å®šç®¡ç† |
| **api.js** | 322 | GAS APIå‘¼ã³å‡ºã—æ©Ÿèƒ½ |
| **config.js** | 20 | ã‚·ã‚¹ãƒ†ãƒ è¨­å®š |
| **error-handler.js** | 208 | ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ©Ÿèƒ½ |
| **index-main.js** | 14 | çµ„é¸æŠãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ |
| **index.html** | 75 | çµ„é¸æŠãƒšãƒ¼ã‚¸ |
| **offline-sync-v2.css** | 896 | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸUI |
| **offline-sync-v2.js** | 2,569 | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸã‚·ã‚¹ãƒ†ãƒ ï¼ˆv2.0ï¼‰ |
| **offline-sync.js** | 571 | æ—§ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸã‚·ã‚¹ãƒ†ãƒ  |
| **seats-main.js** | 1,445 | åº§å¸­é¸æŠãƒ»äºˆç´„ãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ |
| **seats.css** | 816 | åº§å¸­é¸æŠãƒšãƒ¼ã‚¸å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« |
| **seats.html** | 119 | åº§å¸­é¸æŠãƒ»äºˆç´„ãƒšãƒ¼ã‚¸ |
| **sidebar.css** | 249 | ã‚µã‚¤ãƒ‰ãƒãƒ¼å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« |
| **sidebar.js** | 267 | ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¨ãƒ¢ãƒ¼ãƒ‰ç®¡ç†æ©Ÿèƒ½ |
| **styles.css** | 246 | å…¨ä½“å…±é€šã‚¹ã‚¿ã‚¤ãƒ« |
| **sw.js** | 87 | Service Worker |
| **system-lock.js** | 102 | ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒƒã‚¯æ©Ÿèƒ½ |
| **system-setting.gs** | 71 | ã‚·ã‚¹ãƒ†ãƒ è¨­å®šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ |
| **timeslot-main.js** | 175 | æ™‚é–“å¸¯é¸æŠãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ |
| **timeslot-schedules.js** | 80 | æ™‚é–“å¸¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®šç¾© |
| **timeslot.html** | 67 | æ™‚é–“å¸¯é¸æŠãƒšãƒ¼ã‚¸ |
| **walkin-main.js** | 458 | å½“æ—¥åˆ¸ç™ºè¡Œãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ |
| **walkin.css** | 317 | å½“æ—¥åˆ¸ãƒšãƒ¼ã‚¸å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« |
| **walkin.html** | 109 | å½“æ—¥åˆ¸ç™ºè¡Œãƒšãƒ¼ã‚¸ |

**åˆè¨ˆ: 12,573è¡Œ**

### ğŸ”— ä¾å­˜é–¢ä¿‚å›³ï¼ˆv2.2æœ€é©åŒ–ç‰ˆï¼‰
```mermaid
graph TD
    subgraph "æœ€é©åŒ–å±¤"
        A[optimized-loader.js]
        B[api-cache.js]
        C[optimized-api.js]
        D[ui-optimizer.js]
        E[performance-monitor.js]
    end
    
    subgraph "è¨­å®šãƒ»å…±é€š"
        F[config.js]
        G[styles.css]
    end
    
    subgraph "ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸ"
        H[offline-sync-v2.js]
        I[offline-sync-v2.css]
        J[sw.js]
    end
    
    subgraph "UIå±¤"
        K[sidebar.js]
        L[sidebar.css]
    end
    
    subgraph "ãƒšãƒ¼ã‚¸åˆ¥JS"
        M[index-main.js]
        N[timeslot-main.js]
        O[seats-main.js]
        P[walkin-main.js]
    end
    
    subgraph "ãƒšãƒ¼ã‚¸åˆ¥CSS"
        Q[seats.css]
        R[walkin.css]
    end
    
    subgraph "ãƒšãƒ¼ã‚¸åˆ¥HTML"
        S[index.html]
        T[timeslot.html]
        U[seats.html]
        V[walkin.html]
    end
    
    A --> B
    A --> C
    A --> D
    A --> E
    A --> F
    A --> H
    A --> K
    B --> C
    C --> K
    C --> H
    D --> A
    E --> A
    F --> C
    H --> M
    H --> N
    H --> O
    H --> P
    K --> M
    K --> N
    K --> O
    K --> P
    G --> L
    G --> Q
    G --> R
    G --> I
    L --> S
    L --> T
    L --> U
    L --> V
    I --> S
    I --> T
    I --> U
    I --> V
    M --> S
    N --> T
    O --> U
    P --> V
    Q --> U
    R --> V
    J -.-> S
    J -.-> T
    J -.-> U
    J -.-> V
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¾å­˜é–¢ä¿‚
```mermaid
graph TD
    subgraph "Google Apps Script"
        A[Code.gs]
        B[SpreadsheetIds.gs]
        C[TimeSlotConfig.gs]
        D[system-setting.gs]
    end
    
    subgraph "Google Spreadsheet"
        E[åº§å¸­ãƒ‡ãƒ¼ã‚¿]
        F[ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿]
    end
    
    A --> B
    A --> C
    A --> E
    A --> F
    D -.->|ç‹¬ç«‹| D
```

#### ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ä¾å­˜é–¢ä¿‚ï¼ˆv2.2æœ€é©åŒ–ç‰ˆï¼‰
```mermaid
graph TB
    subgraph "æœ€é©åŒ–ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰"
        A[OptimizedLoader]
        B[HTML Pages]
        C[CSS Files]
        D[JavaScript Files]
        E[UIOptimizer]
        F[PerformanceMonitor]
    end
    
    subgraph "æœ€é©åŒ–APIå±¤"
        G[APICache]
        H[OptimizedGasAPI]
        I[config.js]
    end
    
    subgraph "Google Apps Script"
        J[Code.gs]
        K[SpreadsheetIds.gs]
        L[TimeSlotConfig.gs]
        M[system-setting.gs]
    end
    
    subgraph "ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢"
        N[Google Spreadsheet]
    end
    
    A --> B
    A --> C
    A --> D
    A --> E
    A --> F
    A --> G
    A --> H
    A --> I
    G --> H
    H --> I
    H --> J
    J --> K
    J --> L
    J --> N
    M -.->|ç‹¬ç«‹| M
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆv2.2æœ€é©åŒ–ç‰ˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ï¼‰
```mermaid
sequenceDiagram
    participant U as ãƒ¦ãƒ¼ã‚¶ãƒ¼
    participant OL as OptimizedLoader
    participant AC as APICache
    participant OGA as OptimizedGasAPI
    participant OS as OfflineSyncV2
    participant G as GAS
    participant S as Spreadsheet
    
    U->>OL: ãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹
    OL->>OL: ä¾å­˜é–¢ä¿‚è§£æ
    OL->>AC: ã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆæœŸåŒ–
    OL->>OGA: APIåˆæœŸåŒ–
    OL->>OS: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸé–‹å§‹
    
    U->>OGA: æ“ä½œè¦æ±‚
    OGA->>AC: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯
    alt ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ
        AC-->>OGA: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¼ã‚¿è¿”å´
    else ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹
        OGA->>G: JSONPé€šä¿¡
        G->>S: ãƒ‡ãƒ¼ã‚¿èª­ã¿æ›¸ã
        S-->>G: ãƒ‡ãƒ¼ã‚¿è¿”å´
        G-->>OGA: ãƒ¬ã‚¹ãƒãƒ³ã‚¹
        OGA->>AC: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜
    end
    OGA-->>U: çµæœè¡¨ç¤º
    
    Note over OS: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰åŒæœŸï¼ˆ15ç§’é–“éš”ï¼‰
    OS->>G: ã‚­ãƒ¥ãƒ¼æ“ä½œé€ä¿¡
    G->>S: ãƒ‡ãƒ¼ã‚¿æ›´æ–°
    S-->>G: æ›´æ–°å®Œäº†
    G-->>OS: åŒæœŸå®Œäº†
```

---

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ğŸ” ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ é–¢é€£ã®å•é¡Œ

#### ç›£æŸ»ãƒ­ã‚°ãŒåŒæœŸã•ã‚Œãªã„
```javascript
// 1. ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ ã®çŠ¶æ…‹ã‚’ç¢ºèª
AuditManager.getStatus();

// 2. æ‰‹å‹•åŒæœŸã‚’å®Ÿè¡Œ
AuditManager.manualSync();

// 3. ç›£æŸ»ãƒ­ã‚°å°‚ç”¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDã‚’ç¢ºèª
AuditManager.getCurrentSpreadsheetId();
```

**è§£æ±ºæ–¹æ³•:**
- `config.js`ã®`AUDIT_LOG_SPREADSHEET_ID`ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ç›£æŸ»ãƒ­ã‚°å°‚ç”¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’ç¢ºèª
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šçŠ¶æ³ã‚’ç¢ºèª

#### ç›£æŸ»ãƒ­ã‚°ãŒè¨˜éŒ²ã•ã‚Œãªã„
```javascript
// ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ ãŒæœ‰åŠ¹ã‹ç¢ºèª
AuditManager.getConfig();
```

**è§£æ±ºæ–¹æ³•:**
- ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒ–ãƒ©ã‚¦ã‚¶ã®localStorageå®¹é‡ã‚’ç¢ºèª
- ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèª: `AuditManager.getErrors()`

### ğŸ› ï¸ ã‚¨ãƒ©ãƒ¼åˆ†æãƒ»è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ é–¢é€£ã®å•é¡Œ

#### ã‚¨ãƒ©ãƒ¼ãŒæ¤œå‡ºã•ã‚Œãªã„
```javascript
// ã‚¨ãƒ©ãƒ¼è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ ã®çŠ¶æ…‹ã‚’ç¢ºèª
AuditManager.getErrors();

// ã‚¨ãƒ©ãƒ¼åˆ†æã‚’å®Ÿè¡Œ
AuditManager.analyzeErrors();
```

**è§£æ±ºæ–¹æ³•:**
- ã‚¨ãƒ©ãƒ¼è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
- ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

#### è‡ªå‹•ä¿®å¾©ãŒå‹•ä½œã—ãªã„
```javascript
// è‡ªå‹•ä¿®å¾©ã‚’æ‰‹å‹•å®Ÿè¡Œ
AuditManager.autoFix();

// ã‚·ã‚¹ãƒ†ãƒ å¥åº·çŠ¶æ…‹ã‚’ç¢ºèª
AuditManager.healthCheck();
```

**è§£æ±ºæ–¹æ³•:**
- ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚¨ãƒ©ãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
- è‡ªå‹•ä¿®å¾©ã®å¯¾è±¡ã‚¨ãƒ©ãƒ¼ã‹ã©ã†ã‹ç¢ºèª
- æ‰‹å‹•ã§ä¿®å¾©ã‚’å®Ÿè¡Œ

### ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–é–¢é€£ã®å•é¡Œ

#### å¥åº·çŠ¶æ…‹ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œãªã„
```javascript
// ã‚·ã‚¹ãƒ†ãƒ å¥åº·çŠ¶æ…‹ã‚’è©³ç´°ç¢ºèª
const health = AuditManager.healthCheck();
console.log('è©³ç´°çŠ¶æ…‹:', health);
```

**è§£æ±ºæ–¹æ³•:**
- å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’å€‹åˆ¥ã«ç¢ºèª
- ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’ç¢ºèª
- ã‚·ã‚¹ãƒ†ãƒ ã®å†èµ·å‹•ã‚’æ¤œè¨

### ğŸ”§ ä¸€èˆ¬çš„ãªå•é¡Œ

#### JSONP ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
- GAS ã®å…¬é–‹è¨­å®šãŒã€Œå…¨å“¡ï¼ˆåŒ¿åï¼‰ã€ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
- æœ€æ–°ã® /exec ã‚’ `config.js` ã«è¨­å®šï¼ˆå¿…è¦ã«å¿œã˜ã¦ `GAS_API_URLS` ã«è¿½åŠ ï¼‰
- ç–é€šãƒ†ã‚¹ãƒˆ: `https://<GAS>/exec?callback=cb&func=testApi&params=%5B%5D` ã‚’é–‹ãå‰ã« `function cb(x){console.log(x)}` ã‚’å®šç¾©

#### verifyModePassword ã®å¤šé‡å‘¼ã³å‡ºã—
- äºŒé‡é€ä¿¡é˜²æ­¢æ¸ˆã¿ã€‚å¤ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã‚‰ãƒãƒ¼ãƒ‰ãƒªãƒ­ãƒ¼ãƒ‰

#### Walk-in ã®äºŒé‡ç™ºè¡Œ
- å†å…¥é˜²æ­¢æ¸ˆã¿ã€‚æœ€æ–°ã«æ›´æ–°ã—ã¦å†è©¦è¡Œ

### ğŸ” æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ç‰¹æœ‰ã®å•é¡Œ

#### åº§å¸­ç·¨é›†ã§ããªã„
- `SUPERADMIN_PASSWORD` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- `system-setting.gs` ã® `checkPasswords()` ã§ç¢ºèª
- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®æ¨©é™è¨­å®šã‚’ç¢ºèª

#### ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œãªã„
- æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã«æ­£ã—ããƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª

### ğŸŒ GASç–é€šãƒ†ã‚¹ãƒˆ
- ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã€ŒGASç–é€šãƒ†ã‚¹ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ä½¿ç”¨
- è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’ç¢ºèª
- å¿…è¦ã«å¿œã˜ã¦æ–°ã—ã„ãƒ‡ãƒ—ãƒ­ã‚¤URLã‚’å–å¾—

### ğŸš¨ ç·Šæ€¥æ™‚ã®å¯¾å¿œ

#### ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ãŒå¿œç­”ã—ãªã„
```javascript
// 1. ã‚·ã‚¹ãƒ†ãƒ å¥åº·çŠ¶æ…‹ã‚’ç¢ºèª
AuditManager.healthCheck();

// 2. ã‚¨ãƒ©ãƒ¼åˆ†æã‚’å®Ÿè¡Œ
AuditManager.analyzeErrors();

// 3. è‡ªå‹•ä¿®å¾©ã‚’å®Ÿè¡Œ
AuditManager.autoFix();

// 4. å¿…è¦ã«å¿œã˜ã¦ã‚·ã‚¹ãƒ†ãƒ å†èµ·å‹•
location.reload();
```

#### ç›£æŸ»ãƒ­ã‚°ãŒå¤§é‡ã«è“„ç©ã—ã¦ã„ã‚‹
```javascript
// ç›£æŸ»ãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢
AuditManager.clearLogs();

// ã¾ãŸã¯å¤ã„ãƒ­ã‚°ã‚’å‰Šé™¤
AuditManager.setConfig({ maxLogs: 1000 });
```

#### åŒæœŸã‚¨ãƒ©ãƒ¼ãŒé »ç™ºã—ã¦ã„ã‚‹
```javascript
// åŒæœŸè¨­å®šã‚’ç¢ºèª
AuditManager.getConfig();

// æ‰‹å‹•åŒæœŸã‚’å®Ÿè¡Œ
AuditManager.manualSync();

// åŒæœŸé–“éš”ã‚’èª¿æ•´
AuditManager.setConfig({ syncInterval: 30000 }); // 30ç§’é–“éš”
```

### ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

#### å•é¡Œå ±å‘Šæ™‚ã®æƒ…å ±
- ã‚·ã‚¹ãƒ†ãƒ å¥åº·çŠ¶æ…‹: `AuditManager.healthCheck()`
- ã‚¨ãƒ©ãƒ¼åˆ†æçµæœ: `AuditManager.analyzeErrors()`
- ç›£æŸ»ãƒ­ã‚°çµ±è¨ˆ: `AuditManager.getStats()`
- ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±: `navigator.userAgent`
- ç™ºç”Ÿæ™‚åˆ»ã¨æ“ä½œæ‰‹é †

#### ãƒ­ã‚°åé›†
```javascript
// ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’åé›†
AuditManager.debug();

// ã‚¨ãƒ©ãƒ¼å±¥æ­´ã‚’ç¢ºèª
AuditManager.getErrors({ since: '2024-01-01' });

// ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ
AuditManager.diagnose();
```

---

## ğŸ“š ä½¿ç”¨ä¾‹

### æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã®ä½¿ç”¨ä¾‹

#### 1. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®š
```javascript
// GASã‚¨ãƒ‡ã‚£ã‚¿ã§å®Ÿè¡Œ
setupSuperAdminPassword(); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: superadmin
// ã¾ãŸã¯
changeSuperAdminPassword('mySecurePassword'); // ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
```

#### 2. åº§å¸­ãƒ‡ãƒ¼ã‚¿ç·¨é›†
1. ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰ã€Œãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ã€ã‚’é¸æŠ
2. ã€Œæœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã€ã‚’é¸æŠã—ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›
3. ä»»æ„ã®åº§å¸­ã‚’ã‚¯ãƒªãƒƒã‚¯
4. Cã€Dã€Eåˆ—ã®å†…å®¹ã‚’ç·¨é›†
5. ã€Œç¢ºå®šã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™
6. ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ã€Œã¯ã„ã€ã‚’é¸æŠ
7. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãŒæ›´æ–°ã•ã‚Œã‚‹

#### 3. ç·¨é›†å¯èƒ½ãªåˆ—
- **Cåˆ—**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆç©ºã€ç¢ºä¿ã€äºˆç´„æ¸ˆãªã©ï¼‰
- **Dåˆ—**: äºˆç´„åã‚„å‚™è€ƒ
- **Eåˆ—**: ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³çŠ¶æ…‹ã‚„ãã®ä»–ã®æƒ…å ±

### æ“ä½œæ–¹æ³•ï¼ˆè£œè¶³ï¼‰

#### ã‚µã‚¤ãƒ‰ãƒãƒ¼æ“ä½œ
- ç”»é¢å·¦ä¸Šã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§é–‹é–‰
- é–‹ã„ã¦ã„ã‚‹é–“ã¯èƒŒæ™¯ãŒæš—è»¢
- å¤–å´ã‚¯ãƒªãƒƒã‚¯ã¾ãŸã¯ã€ŒÃ—ã€ã§é–‰ã˜ã‚‹

#### ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´
- ã‚µã‚¤ãƒ‰ãƒãƒ¼å†…ã€Œãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ã€
- å‡¦ç†ä¸­ã¯ãƒœã‚¿ãƒ³/å…¥åŠ›ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¾ã™
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ãŒå¿…è¦

#### å½“æ—¥åˆ¸ç™ºè¡Œ
- Â± ãƒœã‚¿ãƒ³ã§æšæ•°èª¿æ•´ï¼ˆ1ã€œ6ï¼‰
- å‡¦ç†ä¸­ã¯äºŒé‡å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“

#### æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰
- ä»»æ„ã®åº§å¸­ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã
- Cã€Dã€Eåˆ—ã®å†…å®¹ã‚’ç·¨é›†ã—ã¦ç¢ºå®š
- ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ã€Œã¯ã„ã€ã‚’é¸æŠ
- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãŒæ›´æ–°ã•ã‚Œã‚‹

---

## ğŸ”® ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

### æ©Ÿèƒ½æ‹¡å¼µ
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åº§å¸­çŠ¶æ³ã®è¡¨ç¤º
- äºˆç´„å±¥æ­´ã®ç®¡ç†
- çµ±è¨ˆãƒ»ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½

### æŠ€è¡“çš„æ”¹å–„
- WebSocketå¯¾å¿œ
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–
- å¤šè¦ç´ èªè¨¼
- ç›£æŸ»ãƒ­ã‚°
- æš—å·åŒ–é€šä¿¡

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

### å•é¡Œå ±å‘Š
- GitHub Issues ã§å•é¡Œã‚’å ±å‘Š
- è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã¨å†ç¾æ‰‹é †ã‚’è¨˜è¼‰

### æ©Ÿèƒ½è¦æœ›
- æ–°æ©Ÿèƒ½ã®ææ¡ˆã¯ GitHub Discussions ã§
- ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¨æœŸå¾…ã™ã‚‹å‹•ä½œã‚’è¨˜è¼‰

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ”¹å–„
- READMEã®æ”¹å–„ææ¡ˆã‚‚æ­“è¿
- åˆ†ã‹ã‚Šã«ãã„éƒ¨åˆ†ã®æŒ‡æ‘˜

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
- ãƒªãƒã‚¸ãƒˆãƒªã® `LICENSE` ã‚’å‚ç…§

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿
- ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã«å¾“ã£ã¦ãã ã•ã„
- ãƒ†ã‚¹ãƒˆã®è¿½åŠ ã‚‚æ¨å¥¨
---

## âœ… æœ€æ–°ã®å¤‰æ›´ç‚¹ï¼ˆv2.3 ç›£æŸ»ãƒ»åˆ†æã‚·ã‚¹ãƒ†ãƒ ï¼‰

### ğŸ†• v2.3 ã®ä¸»è¦ãªæ–°æ©Ÿèƒ½

#### 1. ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ ï¼ˆAudit Systemï¼‰
- **å…¨æ“ä½œè¨˜éŒ²**: åº§å¸­äºˆç´„ãƒ»ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ãƒ»å½“æ—¥åˆ¸ç™ºè¡Œãƒ»ç·¨é›†æ“ä½œã‚’è©³ç´°è¨˜éŒ²
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ**: ç›£æŸ»ãƒ­ã‚°ã®è‡ªå‹•åŒæœŸï¼ˆ10ç§’é–“éš”ï¼‰
- **å°‚ç”¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ**: ç›£æŸ»ãƒ­ã‚°å°‚ç”¨ã®ä¸€å…ƒç®¡ç†
- **ã‚¨ãƒ©ãƒ¼è¿½è·¡**: ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ãªè¿½è·¡ã¨åˆ†æ
- **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**: åŒæœŸå¤±æ•—æ™‚ã®ãƒ­ã‚°ä¿è­·ã¨å†è©¦è¡Œæ©Ÿèƒ½

#### 2. ã‚¨ãƒ©ãƒ¼åˆ†æãƒ»è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ 
- **è‡ªå‹•ã‚¨ãƒ©ãƒ¼æ¤œå‡º**: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»åŒæœŸãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¨ãƒ©ãƒ¼ã®è‡ªå‹•æ¤œå‡º
- **ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ**: ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ†æã¨æ¨å¥¨äº‹é …ã®ç”Ÿæˆ
- **ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­**: åŒ…æ‹¬çš„ãªã‚·ã‚¹ãƒ†ãƒ å¥åº·çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯
- **è‡ªå‹•ä¿®å¾©**: æ¤œå‡ºã•ã‚ŒãŸå•é¡Œã®è‡ªå‹•ä¿®å¾©æ©Ÿèƒ½
- **æ¨å¥¨äº‹é …ç”Ÿæˆ**: å•é¡Œè§£æ±ºã®ãŸã‚ã®å…·ä½“çš„ãªæ¨å¥¨äº‹é …

#### 3. ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–æ©Ÿèƒ½
- **å¥åº·çŠ¶æ…‹ç›£è¦–**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç›£è¦–
- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ»åŒæœŸçŠ¶æ³ã®è©³ç´°ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- **ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½**: å•é¡Œç™ºç”Ÿæ™‚ã®è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆ
- **è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆ**: è©³ç´°ãªã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç›£è¦–**: å„ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å€‹åˆ¥ç›£è¦–

### ğŸ”§ æŠ€è¡“çš„ãªæ”¹å–„

#### 1. ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…
- **AuditManager**: ç›£æŸ»ãƒ­ã‚°ã®ä¸€å…ƒç®¡ç†ã¨åŒæœŸæ©Ÿèƒ½
- **ErrorAnalyzer**: ã‚¨ãƒ©ãƒ¼åˆ†æã¨ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º
- **ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼**: JavaScript ã‚¨ãƒ©ãƒ¼ã®è‡ªå‹•ã‚­ãƒ£ãƒƒãƒ
- **Promiseæ‹’å¦è¿½è·¡**: æœªå‡¦ç†ã®Promiseæ‹’å¦ã‚’è¿½è·¡

#### 2. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–
- **åŒæœŸã‚¨ãƒ©ãƒ¼å‡¦ç†**: ç›£æŸ»ãƒ­ã‚°åŒæœŸå¤±æ•—æ™‚ã®è‡ªå‹•å†è©¦è¡Œï¼ˆæœ€å¤§3å›ï¼‰
- **APIå‘¼ã³å‡ºã—ã‚¨ãƒ©ãƒ¼**: GAS APIå‘¼ã³å‡ºã—å¤±æ•—ã®è©³ç´°è¨˜éŒ²
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¨ãƒ©ãƒ¼**: localStorageå®¹é‡ä¸è¶³ã®æ¤œå‡ºã¨å¯¾å¿œ
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼**: æ¥ç¶šå•é¡Œã®è‡ªå‹•æ¤œå‡ºã¨å¯¾å¿œ

#### 3. ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­æ©Ÿèƒ½
- **å¥åº·çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯**: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å¥åº·çŠ¶æ…‹ã‚’åŒ…æ‹¬çš„ã«ãƒã‚§ãƒƒã‚¯
- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†**: è©³ç´°ãªã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®åé›†ã¨åˆ†æ
- **æ¨å¥¨äº‹é …ç”Ÿæˆ**: å•é¡Œè§£æ±ºã®ãŸã‚ã®å…·ä½“çš„ãªæ¨å¥¨äº‹é …
- **è‡ªå‹•ä¿®å¾©**: æ¤œå‡ºã•ã‚ŒãŸå•é¡Œã®è‡ªå‹•ä¿®å¾©æ©Ÿèƒ½

### ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã®æˆæœ

#### 1. ç›£æŸ»ã‚·ã‚¹ãƒ†ãƒ ã®æœ€é©åŒ–
- **åŒæœŸé–“éš”**: 15ç§’â†’10ç§’ï¼ˆã‚ˆã‚Šè¿…é€ŸãªåŒæœŸï¼‰
- **å¤±æ•—å‡¦ç†**: 5å›â†’3å›ï¼ˆã‚ˆã‚Šè¿…é€Ÿãªã‚¨ãƒ©ãƒ¼å¯¾å¿œï¼‰
- **ãƒ­ã‚°ä¿è­·**: åŒæœŸå¤±æ•—æ™‚ã®ãƒ­ã‚°ä¿è­·æ©Ÿèƒ½
- **ã‚¨ãƒ©ãƒ¼è¨˜éŒ²**: åŒæœŸå¤±æ•—ã®è©³ç´°è¨˜éŒ²

#### 2. ã‚¨ãƒ©ãƒ¼æ¤œå‡ºã®ç²¾åº¦å‘ä¸Š
- **é–¾å€¤èª¿æ•´**: ã‚ˆã‚Šæ•æ„Ÿãªã‚¨ãƒ©ãƒ¼æ¤œå‡ºï¼ˆåŒæœŸã‚¨ãƒ©ãƒ¼: 10å›â†’5å›ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼: 5å›â†’3å›ï¼‰
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¨ãƒ©ãƒ¼**: æ–°ãŸã«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸é–¢é€£ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡º
- **æ¨å¥¨äº‹é …**: ã‚ˆã‚Šå…·ä½“çš„ã§å®Ÿç”¨çš„ãªæ¨å¥¨äº‹é …ã‚’æä¾›

#### 3. ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ã®å¼·åŒ–
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–
- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†**: è©³ç´°ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®åé›†ã¨åˆ†æ
- **ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½**: å•é¡Œç™ºç”Ÿæ™‚ã®è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆ
- **è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆ**: åŒ…æ‹¬çš„ãªè¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ

### ğŸš€ ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Š

#### 1. ç›£æŸ»ãƒ»åˆ†ææ©Ÿèƒ½ã®è¿½åŠ 
- **AuditManager**: ç›£æŸ»ãƒ­ã‚°ã®ç®¡ç†ã¨åŒæœŸ
- **ErrorAnalyzer**: ã‚¨ãƒ©ãƒ¼åˆ†æã¨ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º
- **ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­**: åŒ…æ‹¬çš„ãªã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­
- **è‡ªå‹•ä¿®å¾©**: å•é¡Œã®è‡ªå‹•ä¿®å¾©æ©Ÿèƒ½

#### 2. ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ã®å¼·åŒ–
- **ãƒ‡ãƒãƒƒã‚°æƒ…å ±**: è©³ç´°ãªãƒ‡ãƒãƒƒã‚°æƒ…å ±ã®æä¾›
- **ãƒ­ã‚°åé›†**: å•é¡Œå ±å‘Šæ™‚ã®ãƒ­ã‚°åé›†æ©Ÿèƒ½
- **ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª
- **ã‚¨ãƒ©ãƒ¼å±¥æ­´**: ã‚¨ãƒ©ãƒ¼å±¥æ­´ã®è©³ç´°ç¢ºèª

#### 3. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®æ”¹å–„
- **å•é¡Œåˆ¥å¯¾å¿œ**: ç›£æŸ»ãƒ»ã‚¨ãƒ©ãƒ¼åˆ†æãƒ»ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–åˆ¥ã®å•é¡Œå¯¾å¿œ
- **ç·Šæ€¥æ™‚å¯¾å¿œ**: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ãŒå¿œç­”ã—ãªã„å ´åˆã®å¯¾å¿œæ‰‹é †
- **ãƒ­ã‚°åé›†**: å•é¡Œå ±å‘Šæ™‚ã®è©³ç´°ãªãƒ­ã‚°åé›†
- **ã‚µãƒãƒ¼ãƒˆæƒ…å ±**: å•é¡Œå ±å‘Šæ™‚ã®å¿…è¦ãªæƒ…å ±ã®æ˜ç¢ºåŒ–

### ğŸ”„ æ—¢å­˜æ©Ÿèƒ½ã®æ”¹å–„

#### 1. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆv2.2ç¶™æ‰¿ï¼‰
- **OptimizedLoader**: ä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ã—ãŸä¸¦åˆ—ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«èª­ã¿è¾¼ã¿
- **APICache**: ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ 
- **OptimizedGasAPI**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œã®APIå‘¼ã³å‡ºã—
- **UIOptimizer**: ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®æœ€é©åŒ–
- **PerformanceMonitor**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

#### 2. ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸï¼ˆv2.0ç¶™æ‰¿ï¼‰
- **å®Œå…¨ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œ**: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãªã—ã§ã‚‚å…¨æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½
- **ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸåº§å¸­ãƒ‡ãƒ¼ã‚¿ã§ã®å³åº§ãªæ“ä½œ
- **è‡ªå‹•åŒæœŸ**: ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¾©å¸°æ™‚ã«æ“ä½œã‚’è‡ªå‹•ã§ã‚µãƒ¼ãƒãƒ¼ã«åæ˜ 
- **å½“æ—¥åˆ¸ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç™ºè¡Œ**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã§ã‚‚å½“æ—¥åˆ¸ã‚’ç™ºè¡Œãƒ»è¡¨ç¤º

#### 3. URLç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆv2.1ç¶™æ‰¿ï¼‰
- **è¤‡æ•°API URLå¯¾å¿œ**: ä½¿ç”¨æ•°ä¸Šé™å›é¿ã®ãŸã‚ã®åˆ†æ•£å‡¦ç†
- **è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**: 5åˆ†é–“éš”ã§ã®URLè‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
- **ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼**: APIå‘¼ã³å‡ºã—å¤±æ•—æ™‚ã®è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€šçŸ¥**: URLå¤‰æ›´æ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

---

## âš¡ ã‚·ã‚¹ãƒ†ãƒ æœ€é©åŒ–ï¼ˆv2.2ï¼‰

### æœ€é©åŒ–ã®æˆæœ
- **åˆæœŸèª­ã¿è¾¼ã¿æ™‚é–“**: ç´„40%çŸ­ç¸®ï¼ˆã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚¢ã‚»ãƒƒãƒˆå„ªå…ˆèª­ã¿è¾¼ã¿ï¼‰
- **ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿**: ç´„50%çŸ­ç¸®ï¼ˆä¾å­˜é–¢ä¿‚ã®æœ€é©åŒ–ï¼‰
- **Service Worker**: ç´„60%çŸ­ç¸®ï¼ˆæ®µéšçš„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
- **APIå‘¼ã³å‡ºã—**: é‡è¤‡æ’é™¤ã«ã‚ˆã‚Šç´„60%å‰Šæ¸›
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: ç´„30%å‰Šæ¸›ï¼ˆã‚­ãƒ¥ãƒ¼ã‚µã‚¤ã‚ºå‰Šæ¸›ã€é »ç¹ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼‰
- **UIå¿œç­”æ€§**: ç´„50%å‘ä¸Šï¼ˆã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†æœ€é©åŒ–ï¼‰

### æœ€é©åŒ–ã•ã‚ŒãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
```mermaid
graph TB
  subgraph "æœ€é©åŒ–ã•ã‚ŒãŸèª­ã¿è¾¼ã¿å±¤"
    A[OptimizedLoader] --> B[ä¾å­˜é–¢ä¿‚ç®¡ç†]
    B --> C[æ®µéšçš„èª­ã¿è¾¼ã¿]
    C --> D[ä¸¦åˆ—å‡¦ç†]
  end
  
  subgraph "ã‚­ãƒ£ãƒƒã‚·ãƒ¥å±¤"
    E[APICache] --> F[é‡è¤‡æ’é™¤]
    F --> G[TTLç®¡ç†]
    G --> H[ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–]
  end
  
  subgraph "é€šä¿¡å±¤"
    I[OptimizedGasAPI] --> J[URLç®¡ç†]
    J --> K[ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼]
    K --> L[ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å§”è­²]
  end
  
  subgraph "UIå±¤"
    M[UIOptimizer] --> N[ã‚¤ãƒ™ãƒ³ãƒˆæœ€é©åŒ–]
    N --> O[ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–]
    O --> P[ãƒ¡ãƒ¢ãƒªç›£è¦–]
  end
  
  A --> E
  E --> I
  I --> M
```

### æœ€é©åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
1. **OptimizedLoader** (`optimized-loader.js`) - ä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ã—ãŸä¸¦åˆ—ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«èª­ã¿è¾¼ã¿
2. **APICache** (`api-cache.js`) - ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ 
3. **OptimizedGasAPI** (`optimized-api.js`) - ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œã®APIå‘¼ã³å‡ºã—
4. **UIOptimizer** (`ui-optimizer.js`) - ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã®æœ€é©åŒ–
5. **PerformanceMonitor** (`performance-monitor.js`) - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

### Service Workeræœ€é©åŒ–
- **ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚¢ã‚»ãƒƒãƒˆ**: 6å€‹ã®æœ€é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å„ªå…ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥
- **ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚¢ã‚»ãƒƒãƒˆ**: 20å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§æ®µéšçš„ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- **ãƒãƒƒãƒã‚µã‚¤ã‚º**: 3å€‹ãšã¤å‡¦ç†ï¼ˆiOSå¯¾å¿œï¼‰
- **ãƒ¡ãƒ¢ãƒªåœ§è¿«é˜²æ­¢**: ãƒãƒƒãƒé–“ã§100mså¾…æ©Ÿ

### ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸæœ€é©åŒ–
- **åŒæœŸé–“éš”**: 15ç§’ï¼ˆ10ç§’ã‹ã‚‰å»¶é•·ï¼‰
- **ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰åŒæœŸ**: 15ç§’ï¼ˆ10ç§’ã‹ã‚‰å»¶é•·ï¼‰
- **ãƒ¡ãƒ¢ãƒªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**: 30ç§’é–“éš”ï¼ˆ1åˆ†ã‹ã‚‰çŸ­ç¸®ï¼‰
- **ã‚­ãƒ¥ãƒ¼ã‚µã‚¤ã‚º**: 200ä»¶ï¼ˆ500ä»¶ã‹ã‚‰å‰Šæ¸›ï¼‰
- **æ¥ç¶šãƒã‚§ãƒƒã‚¯**: 15ç§’é–“éš”ï¼ˆ10ç§’ã‹ã‚‰å»¶é•·ï¼‰

### ä½¿ç”¨æ–¹æ³•
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: `Ctrl + Shift + P`
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†**: `window.apiCache.getStats()`
- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç¢ºèª**: `window.performanceMonitor.getMetrics()`
- **URLç®¡ç†**: `window.GasAPI.getUrlManagerInfo()`

---

## ğŸ‘¨â€ğŸ’¼ ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰å®Œå…¨æ“ä½œã‚¬ã‚¤ãƒ‰

### ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã®ç¨®é¡
1. **æœ€é«˜ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ (Super Admin)** - å…¨æ©Ÿèƒ½ã‚¢ã‚¯ã‚»ã‚¹ + ã‚·ã‚¹ãƒ†ãƒ è¨­å®šå¤‰æ›´
2. **ä¸€èˆ¬ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ (Admin)** - åŸºæœ¬ç®¡ç†æ©Ÿèƒ½ + é™å®šã•ã‚ŒãŸè¨­å®šå¤‰æ›´

### ä¸»è¦æ©Ÿèƒ½
- åº§å¸­ãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†ã¨ç·¨é›†
- å½“æ—¥åˆ¸ã®å‰²ã‚Šå½“ã¦ã¨ç®¡ç†
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸã‚·ã‚¹ãƒ†ãƒ ã®ç®¡ç†
- ç«¶åˆè§£æ±ºã¨é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

### ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•
```javascript
// URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ–¹å¼
https://your-domain.com/index.html?mode=superadmin&key=YOUR_SECRET_KEY

// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ–¹å¼
localStorage.setItem('admin_mode', 'superadmin');
localStorage.setItem('admin_key', 'your-secret-key');
location.reload();
```

### åŸºæœ¬æ“ä½œ
- åº§å¸­ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ãƒ»äºˆç´„ãƒ»ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³
- å½“æ—¥åˆ¸ã®å‰²ã‚Šå½“ã¦ã¨ç®¡ç†
- ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèªã¨æ¤œç´¢

---

## ğŸŒ API URLåˆ†æ•£è¨­å®šã‚¬ã‚¤ãƒ‰

### æ¦‚è¦
APIé€šä¿¡ã®ä½¿ç”¨æ•°ä¸Šé™ã‚’å›é¿ã™ã‚‹ãŸã‚ã€è¤‡æ•°ã®Google Apps Script URLã‚’åˆ†æ•£ã—ã¦ä½¿ç”¨ã™ã‚‹æ©Ÿèƒ½ã€‚

### æ©Ÿèƒ½
- **ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ**: ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ©ãƒ³ãƒ€ãƒ ã«URLã‚’é¸æŠ
- **å®šæœŸãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**: 5åˆ†é–“éš”ã§URLã‚’è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
- **ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼**: ã‚¨ãƒ©ãƒ¼æ™‚ã«æ¬¡ã®URLã«è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
- **æ‰‹å‹•åˆ‡ã‚Šæ›¿ãˆ**: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰æ‰‹å‹•ã§URLã‚’å¤‰æ›´å¯èƒ½

### è¨­å®šæ–¹æ³•
```javascript
// config.js
const GAS_API_URLS = [
  "https://script.google.com/macros/s/MAIN_DEPLOY_ID/exec",
  "https://script.google.com/macros/s/BACKUP_DEPLOY_ID/exec",
  "https://script.google.com/macros/s/THIRD_DEPLOY_ID/exec"
];
```

### ä½¿ç”¨æ–¹æ³•
```javascript
// ç¾åœ¨ã®URLæƒ…å ±ã‚’ç¢ºèª
SeatApp.urlInfo()

// ãƒ©ãƒ³ãƒ€ãƒ ã«URLã‚’é¸æŠ
SeatApp.selectRandomUrl()

// åˆ©ç”¨å¯èƒ½ãªURLä¸€è¦§ã‚’è¡¨ç¤º
SeatApp.getAllUrls()
```

### ç›£è¦–æ©Ÿèƒ½
- ç”»é¢å³ä¸Šã«ç¾åœ¨ã®URLç•ªå·ã‚’è¡¨ç¤ºï¼ˆä¾‹ï¼šAPI URL: 2/4ï¼‰
- æ›´æ–°ãƒœã‚¿ãƒ³ã§æ‰‹å‹•ã§URLæƒ…å ±ã‚’æ›´æ–°å¯èƒ½
- ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã§è©³ç´°ãªå‹•ä½œã‚’ç¢ºèª

